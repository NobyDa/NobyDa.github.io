{"pages":[],"posts":[{"title":"å·´å“ˆå§†ç‰¹è‡ªåŠ¨ç­¾åˆ°è„šæœ¬ï¼ˆé€‚é…&#x2F;å¼€å‘å®ä¾‹ï¼‰","text":"ç®€ä»‹æœ¬æ–‡ä¸»è¦è®°å½•ä¸€æ¬¡ä»å·´å“ˆå§†ç‰¹è‡ªåŠ¨ç­¾åˆ°è„šæœ¬ï¼ˆæ²¹çŒ´ï¼‰é€‚é…è‡³å¯ä¾›Surgeã€QuantumultXè¿è¡Œçš„å¼€å‘è¿‡ç¨‹ã€‚ èƒŒæ™¯å…¶å®è¿™ä¸ªè„šæœ¬å¾ˆä¹…ä¹‹å‰å°±æƒ³é€‚é…Surgeäº†ï¼Œä¹‹å‰ä»Greasyforkæœåˆ°è¿™ä¸ªæ²¹çŒ´ç­¾åˆ°è„šæœ¬ï¼Œä½†æ˜¯è¯¥è„šæœ¬åªèƒ½åœ¨PCä¸­æ‰“å¼€å·´å“ˆå§†ç‰¹ç½‘é¡µæ—¶æ‰èƒ½è¢«è¿è¡Œï¼Œå¦‚æœä¸æ˜¯æ¯å¤©éƒ½é€›çš„è¯ï¼Œå¾ˆå®¹æ˜“å¿˜è®°ç­¾åˆ°ï¼Œæ‰€ä»¥å†³å®šé€‚é…ä¸€ä¸‹Surgeã€‚ å½“æ—¶è„šæœ¬å†™äº†ä¸€åŠï¼Œå‰æœŸæµ‹è¯•æ—¶å‘ç°ç”¨æˆ·é‰´æƒçš„Cookieæœ‰æ•ˆæœŸåªæœ‰1å¤©ï¼Œè¿™å¯¹äºå¤§å¤šæ•°è‡ªåŠ¨åŒ–ç­¾åˆ°è„šæœ¬æ¥è¯´éƒ½æ˜¯è‡´å‘½çš„ï¼Œæ„å‘³ç€éœ€è¦é¢‘ç¹å»æŠ“Cookieé€ æˆæ¯«æ— ä½¿ç”¨ä½“éªŒã€‚å‘ç°è¿™ä¸€æƒ…å†µåå¹¶æ²¡æœ‰æ·±å…¥å»ç ”ç©¶ï¼Œè€Œä¸”é‚£æ®µæ—¶é—´ä¹Ÿæ¯”è¾ƒå¿™ï¼Œæ‰€ä»¥è¿™ä¸ªè„šæœ¬ä¸€ç›´å¤„äºåœæ»çš„çŠ¶æ€ã€‚ æœ€è¿‘åœ¨æ•´ç†è„šæœ¬æ—¶å¶ç„¶å‘ç°è¿™ä¸ªæœªå®Œæˆçš„è„šæœ¬ï¼Œæƒ³ç€å¯ä¸èƒ½åŠé€”è€ŒåºŸï¼Œäºæ˜¯å†³å®šæ·±å…¥ç ”ç©¶ä¸€ä¸‹å·´å“ˆå§†ç‰¹çš„é‰´æƒæ–¹å¼ï¼Œé¡ºä¾¿åˆ†äº«ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹ã€‚ è¿‡ç¨‹ç­¾åˆ°è„šæœ¬æœ€é‡è¦çš„å°±æ˜¯ç”¨æˆ·é‰´æƒæ–¹å¼ï¼Œä¸€èˆ¬æ¥è¯´å¤§å¤šæ•°å¯ä»¥è¢«å†™æˆè„šæœ¬çš„ç­¾åˆ°éƒ½æ˜¯è¯·æ±‚å¤´å¸¦ä¸ŠCookieå­—æ®µå®Œæˆç”¨æˆ·é‰´æƒçš„è¿‡ç¨‹ï¼Œä½†è¯¥æ–¹æ³•å¼Šç«¯å¾ˆæ˜æ˜¾ï¼Œä¾‹å¦‚æœ‰æ•ˆæœŸè¿‡çŸ­é€ æˆéœ€è¦é¢‘ç¹çš„å»æŠ“å–æ–°Cookieã€‚ è€Œä¸”é™¤äº†ä¸Šè¿°æƒ…å†µä¹‹å¤–ï¼Œä¹Ÿä¸æ˜¯æ‰€æœ‰APP/ç½‘é¡µç­¾åˆ°éƒ½å¯ä»¥å†™æˆè„šæœ¬ï¼Œä¾‹å¦‚ç›¸å…³è¯·æ±‚è¢«åŠ å¯†æˆ–è€…éœ€è¦ç®—æ³•äºŒæ¬¡éªŒè¯ï¼›è¿™ç±»æƒ…å†µä¹Ÿå¾ˆéš¾è¢«å†™æˆè‡ªåŠ¨åŒ–è„šæœ¬ã€‚ å¹¸è¿çš„æ˜¯æœ¬æ–‡æ‰€æè¿°çš„å·´å“ˆå§†ç‰¹ç­¾åˆ°å¹¶æ²¡æœ‰è¢«åŠ å¯†ï¼Œå¾…è§£å†³çš„ä¸»è¦é—®é¢˜æ˜¯æ¯æ¬¡ç­¾åˆ°å¼€å§‹æ—¶å¦‚ä½•æ‹¿åˆ°æœ€æ–°çš„Cookieä»¥é¿å…ç­¾åˆ°è¿‡ç¨‹ä¸­é‰´æƒå¤±è´¥ã€‚ é‰´æƒåˆ†æå› ä¸ºæŠ“å–çš„è¯·æ±‚å›½å†…æ— æ³•ç›´è¿ï¼Œä½¿ç”¨ThoræŠ“åŒ…çš„è¯éœ€è¦è·¯ç”±çº§ç¿»å¢™ï¼Œå¤šæ•°ç”¨æˆ·å¹¶æ²¡æœ‰è¿™ä¸ªæ¡ä»¶ã€‚æœ¬æ–‡ä¸ºäº†æ–¹ä¾¿è¯»è€…å®è·µï¼Œå°†ä½¿ç”¨Surgeè¿›è¡ŒæŠ“åŒ…ï¼ŒæŠ“åˆ°ä»¥åå¯¼å…¥Thoråˆ†æï¼ˆå› ä¸ºæœ‰å®Œå–„çš„å…³é”®å­—è¿‡æ»¤ä¸”æŸ¥çœ‹æ–¹ä¾¿ï¼‰æœ€åä½¿ç”¨Anubisè¿›è¡Œé‡æ”¾æ¼”ç¤ºã€‚ æ—¢ç„¶æˆ‘ä»¬æ— æ³•ä½¿ç”¨å·²ç»ç”Ÿæˆå¥½çš„Cookieï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°è¯•æŠ“å–ç”ŸæˆCookieçš„æ¥å£ï¼Œè®©è„šæœ¬æ¯ä¸€æ¬¡è¿è¡Œæ—¶éƒ½å»æŸ¥è¯¢æ–°Cookieï¼Œè‡ªç„¶å°±è§£å†³äº†æœ‰æ•ˆæœŸé—®é¢˜ã€‚ æŠ“åŒ…è¿‡ç¨‹ï¼š è¿›å…¥å·´å“ˆå§†ç‰¹åŠ¨ç”»ç–¯APPåï¼Œé€€å‡ºç™»å½• æ‰“å¼€Surgeï¼ŒMITMä¸»æœºåè¾“å…¥*:0è¡¨ç¤ºè§£å¯†æ‰€æœ‰åŸŸåä»¥åŠæ‰€æœ‰ç«¯å£ï¼Œå¹¶å¼€å¯æŠ“å–æµé‡ è¿›å…¥å·´å“ˆå§†ç‰¹åŠ¨ç”»ç–¯APPï¼Œè¾“å…¥è´¦å·å¯†ç ç™»å½• è¿”å›Surgeï¼Œå…³é—­æŠ“å–æµé‡ï¼Œå¹¶ç¦ç”¨*:0è§£å¯† æŠ“åˆ°è¯·æ±‚å¯ä»¥åœ¨Surge - å·¥å…· - å·²ä¿å­˜çš„æˆªå–æ•°æ®ä¸­æ‰¾åˆ°ã€‚ å¯¼å…¥Thorï¼š æˆ‘ä»¬å¯¼å…¥Thoråï¼Œçœ‹åˆ°è¯·æ±‚å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œæ‰€ä»¥å¯ä»¥ç®€å•æœç´¢ä¸€ä¸‹è¯·æ±‚URLå…³é”®å­—ï¼Œä¾‹å¦‚æˆ‘ä»¬æƒ³æŠ“å–ç™»å½•è¯·æ±‚ï¼Œåˆ™å°è¯•æœç´¢login æœç´¢åæœ‰ä¸¤æ¡ç¬¦åˆçš„è¯·æ±‚ï¼Œå¯èƒ½æœ‰çš„å°ä¼™ä¼´å°±è¦é—®äº†ï¼Œä½ æ€ä¹ˆçŸ¥é“æœç´¢è¿™ä¸ªå…³é”®å­—å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ç»éªŒï¼ŒæŠ“çš„åŒ…å¤šäº†ï¼Œå¾ˆè‡ªç„¶å°±ä¼šçŸ¥é“ç›¸å…³è¯·æ±‚çš„å…³é”®å­—ï¼Œæ¯”å¦‚ç°åœ¨æŠ“å–çš„æ˜¯ç™»å½•è¯·æ±‚ï¼Œloginå³ä¸ºç™»å½•çš„æ„æ€ã€‚å¦‚æœå…³é”®å­—æœç´¢ä¸åˆ°ï¼Œåˆ™åªèƒ½å‡­ç»éªŒé€æ¡åˆ†æï¼Œæ²¡æœ‰ä»€ä¹ˆç‰¹åˆ«å¥½çš„åŠæ³•ã€‚ å›åˆ°æ­£é¢˜ï¼Œæˆ‘ä»¬æŠŠæœç´¢åˆ°çš„è¯·æ±‚è¿›ä¸€æ­¥æŸ¥çœ‹è¯·æ±‚ä½“ä»¥åŠå“åº”ä½“ã€‚ åæ§½ï¼šå†™è¿™APPçš„ç¨‹åºå‘˜ä¸è¡Œé˜¿ï¼Œæ€ä¹ˆè¯´ç”¨æˆ·å¯†ç ä¹Ÿå¾—åŠ å¯†ä¸€ä¸‹ã€‚ ç™»å½•è¯·æ±‚ä½“ä¸­ï¼Œuid=ä¸ºç”¨æˆ·è´¦å·ï¼Œpasswd=ä¸ºç”¨æˆ·å¯†ç ï¼Œä»¥åŠå„ç§éªŒè¯ç å‡ä»¥æ˜æ–‡æ˜¾ç¤ºï¼Œå“åº”ä½“åˆ™æ˜¯ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ã€‚ æˆ‘ä»¬çš„éœ€æ±‚æ˜¯è·å–æ–°Cookieï¼Œç„¶åå†çœ‹ä¸€ä¸‹è¿™ä¸ªè¯·æ±‚çš„å“åº”å¤´æ˜¯å¦è¿”å›äº†Set-Cookieå­—æ®µ å¯ä»¥çœ‹åˆ°å“åº”å¤´æ˜¯æœ‰è¿”å›Set-Cookieçš„ï¼Œä½†ç¼ºå°‘äº†å…³é”®å€¼ï¼ŒçŒœæµ‹å¯èƒ½æ˜¯è¯·æ±‚å¤´ä¸­çš„Cookieå·²åŒ…å«æ‰€ä»¥ä¸è¿”å›ã€‚ æˆ‘ä»¬å³æ»‘è¯¥è¯·æ±‚ï¼Œä½¿ç”¨Anubisé‡æ”¾ï¼ŒæŠŠè¯·æ±‚å¤´ä¸­Cookieå­—æ®µé‡Œçš„ä¸€äº›ä¿¡æ¯åˆ æ‰ï¼Œçœ‹çœ‹æ˜¯å¦ä¼šè¿”å›å®Œæ•´çš„Set-Cookie å¯ä»¥çœ‹åˆ°ï¼Œåˆ é™¤è¯·æ±‚å¤´Cookieä¸­çš„éƒ¨åˆ†å­—æ®µè¿›è¡Œé‡æ”¾åï¼Œå“åº”å¤´çš„Set-Cookieè¿”å›äº†å…³é”®å­—æ®µï¼Œè¯¥å­—æ®µå¯ç”¨äºç­¾åˆ°çš„ç”¨æˆ·é‰´æƒã€‚ ç„¶åå†è¿›è¡Œé‡æ”¾ï¼Œç²¾ç®€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“çš„å‚æ•°ï¼Œçœ‹çœ‹å“ªäº›æ˜¯å¿…é¡»çš„ã€‚ ç»è¿‡å¤šæ¬¡é‡æ”¾è°ƒè¯•ï¼Œå¯ä»¥å¾—çŸ¥ï¼š è¯·æ±‚å¤´ä¸­Cookieé‡Œçš„ckBahamutCsrfTokenå­—æ®µéœ€è¦ä¸è¯·æ±‚ä½“ä¸­çš„bahamutCsrfTokenå­—æ®µå¯¹åº” è¯·æ±‚å¤´ä¸­Cookieé‡Œçš„ckAPP_VCODEå­—æ®µéœ€è¦ä¸è¯·æ±‚ä½“ä¸­çš„vcodeå­—æ®µå¯¹åº” é™¤è´¦å·å¯†ç å’Œä»¥ä¸Šä¸¤ä¸ªå‚æ•°ä¸å¯ç²¾ç®€ä»¥å¤–ï¼Œå…¶ä»–éƒ½å¯åˆ é™¤ è¿›ä¸€æ­¥é‡æ”¾åå‘ç°è¯·æ±‚ä½“ä¸­çš„vcodeå­—æ®µå¯ä»¥è‡ªå®šä¹‰ï¼Œè€ŒbahamutCsrfTokenå­—æ®µä¸è¡Œï¼Œ vcodeå­—æ®µæˆ‘ä»¬æš‚ä¸”ä¸ç®¡ï¼ŒbahamutCsrfTokenå­—æ®µçš„è¯ï¼Œç”±äºè¯¥è„šæœ¬é’ˆå¯¹å¤§ä¼—ï¼Œå¦‚æœå¤šä¸ªç”¨æˆ·ä½¿ç”¨åŒä¸€ä¸ªå†…å®¹ï¼Œå¯èƒ½ä¼šå‡ºç°æœªçŸ¥é—®é¢˜ï¼Œæ‰€ä»¥å¾—æƒ³ä¸ªåŠæ³•ç²¾ç®€æ‰ï¼ˆè™½ç„¶ä¸ç²¾ç®€ä¹Ÿå¯ä»¥ï¼‰ ç»è¿‡å¤šæ¬¡å°è¯•æ— æœåï¼Œçµå…‰ä¸€ç°ï¼Œæƒ³åˆ°äº†å»Githubæœç´¢ä¸€ä¸‹è¿™ä¸ªå­—æ®µçš„å…³é”®å­—ï¼š ä¸å¾—ä¸è¯´GithubçœŸæ˜¯å¤§ä½¬èšé›†åœ°ï¼Œç‚¹è¿›è¿™ä¸ªé¡¹ç›®åå¯ä»¥çœ‹åˆ°æ˜¯ä¸€ä¸ªåŸºäºpythonçš„å·´å“ˆå§†ç‰¹ç­¾åˆ°é¡¹ç›®ï¼ˆç¬é—´æ„Ÿè§‰ä¸Šé¢æŠ“åŒ…æŠ“äº†ä¸ªå¯‚å¯ï¼‰ æˆ‘ä»¬è¿›ä¸€æ­¥æŸ¥çœ‹æºç åå‘ç°ï¼Œç™»å½•æ‹¿Cookieçš„è¯·æ±‚é€»è¾‘è·Ÿæˆ‘è°ƒè¯•æ—¶åŸºæœ¬ä¸€è‡´ï¼Œä½†æœ‰å‡ ç‚¹ä¸åŒ åœ¨ä»–çš„æºç ä¸­å¯ä»¥çœ‹åˆ°è¯·æ±‚ä½“å¹¶æ²¡æœ‰æºå¸¦bahamutCsrfTokenç­‰å‚æ•°ï¼Œå¹¶ä¸”å‘ç°è¯·æ±‚URLç”¨çš„æ˜¯v3æ¥å£ï¼Œè€Œæˆ‘æŠ“çš„æ˜¯v4 ç¬é—´è±ç„¶å¼€æœ—ï¼Œv3æ¥å£å¯ä»¥çœç•¥æ‰ä¸€äº›å‚æ•°ï¼Œç»è¿‡é‡æ”¾è°ƒè¯•åä¹Ÿå¯ä»¥æ­£å¸¸è¿”å›Set-Cookieã€‚ è‡³æ­¤å·²ç»è§£å†³ç™»å½•Cookieé—®é¢˜ã€‚ é€‚é…è„šæœ¬è„šæœ¬åŸå‹ä¸ºé€‚ç”¨äºPCæµè§ˆå™¨çš„å·´å“ˆå§†ç‰¹ç­¾åˆ°è„šæœ¬ (æ²¹çŒ´)ï¼Œé¡¹ç›®åœ°å€ï¼šbahamut-auto-sign-scriptï¼› è¯¥è„šæœ¬ä¸šåŠ¡é€»è¾‘åŒ…æ‹¬å·´å“ˆç­¾åˆ°ã€å·´å“ˆå…¬ä¼šç­¾åˆ°ã€åŠ¨ç”»ç–¯ç­”é¢˜ç­‰ã€‚ å¾—ç›Šäºè¯¥é¡¹ç›®ï¼Œçœå»äº†è‡ªè¡ŒæŠ“åŒ…åˆ†æç­¾åˆ°ç­‰å„ç§è¿‡ç¨‹ï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢ã€‚ åº”ç”¨å…¼å®¹è„šæœ¬å°†é€‚é…å¤šå¹³å°ï¼Œè„šæœ¬çš„å†™æ³•éœ€è¦åŒæ—¶å…¼å®¹å¤šä¸ªå®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦ä¸€ä¸ªå…¼å®¹å‡½æ•°è®©å®ƒåœ¨ä¸åŒç¯å¢ƒä¸‹ä¹Ÿèƒ½è¢«æ­£ç¡®æ‰§è¡Œ. æœ¬æ–‡å°†ä½¿ç”¨chavyå¤§ä½¬çš„å…¼å®¹å‡½æ•°ã€‚é¡¹ç›®åœ°å€ï¼šhttps://github.com/chavyleung/scripts/blob/master/Env.js è¯¥å…¼å®¹å‡½æ•°å…¼å®¹å¤§å¤šæ•°Surgeã€QuantumultXã€Loonã€Shadowrocketçš„å†…éƒ¨APIã€‚ å…¼å®¹å‡½æ•° >folded123//å¤ªé•¿äº†ï¼Œç•¥ï¼Œå¯ç‚¹å‡»ä»¥ä¸Šé¡¹ç›®åœ°å€æŸ¥çœ‹ å…¨å±€å˜é‡å†™å¥½å…¼å®¹å‡½æ•°åæˆ‘ä»¬å…ˆå®šä¹‰ä¸€äº›å…¨å±€å˜é‡ï¼Œä¾›æ‰€æœ‰å‡½æ•°è°ƒç”¨. å…¨å±€å˜é‡123456789101112131415161718// ä»¥ä¸‹å…¨å±€å˜é‡ä¸­çš„æŒä¹…åŒ–æ¥å£ä¸ºBoxJsé¢„ç•™, ä»¥ä¾¿ä¿®æ”¹// æŠŠå…¼å®¹å‡½æ•°å®šä¹‰åˆ°$ä¸­, ä»¥ä¾¿ç»Ÿä¸€è°ƒç”¨const $ = new Env('å·´å“ˆå§†ç‰¹');// ç”¨æˆ·å$.uid = $.getdata('@ND_BAHA.ID') || 'YourUserName';// ç”¨æˆ·å¯†ç $.pwd = $.getdata('@ND_BAHA.PW') || 'YourUserPassword';// æ˜¯å¦è‡ªåŠ¨ç­¾åˆ°å…¬ä¼šï¼Œtrue/falseï¼Œé»˜è®¤å¼€å¯$.needSignGuild = $.getdata('@ND_BAHA.GUILD') || true;// æ˜¯å¦è‡ªåŠ¨ç­”é¢˜åŠ¨ç”»ç–¯ï¼Œtrue/falseï¼Œé»˜è®¤å¼€å¯ (ä¸ä¿è¯100%ç­”é¢˜æ­£ç¡®)$.needAnswer = $.getdata('@ND_BAHA.ANSWER') || true;// ä¸ºé€šçŸ¥å‡†å¤‡çš„ç©ºæ•°ç»„$.notifyMsg = []; ç™»å½•å‡½æ•°æ ¹æ®å‰é¢çš„åˆ†æï¼Œæˆ‘ä»¬åªéœ€å†™ä¸€ä¸ªç™»å½•è¯·æ±‚å³å¯æ‹¿åˆ°å“åº”å¤´ä¸­çš„Set-Cookieï¼Œè¯·æ±‚æˆåŠŸåï¼Œåç»­å®¢æˆ·ç«¯ä¼šè‡ªåŠ¨è®¾ç½®å…¶ä»–åŒç±»åŸŸåè¯·æ±‚çš„Cookieå¤´å­—æ®µï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½®ã€‚å¦‚æœç™»å½•å¤±è´¥ï¼Œåˆ™ç»ˆæ­¢æ‰§è¡Œè„šæœ¬ã€‚ å…·ä½“å®ç°ï¼š ç™»å½•å‡½æ•°12345678910111213141516171819202122232425function BahamutLogin() { //ç™»å½•å‡½æ•°ï¼Œæ‹¿åˆ°Set-Cookie //ç™»å½•æˆåŠŸ: {&quot;success&quot;:true,&quot;userid&quot;:&quot;DGIE&quot;,&quot;nickname&quot;:&quot;coco&quot;,&quot;gold&quot;:152769,&quot;gp&quot;:0,&quot;avatar&quot;:&quot;https:\\/\\/avatar2.bahamut.com.tw\\/avataruserpic\\/dgie.png&quot;,&quot;avatar_s&quot;:&quot;https:\\/\\/avatar2.bahamut.com.tw\\/avataruserpic\\/dgie_s.png&quot;,&quot;lv&quot;:6} //è´¦å·é”™è¯¯: {&quot;code&quot;:0,&quot;message&quot;:&quot;æŸ¥ç„¡æ­¤äººï¼šSDFOUGB&quot;} //å¯†ç é”™è¯¯: {&quot;code&quot;:0,&quot;message&quot;:&quot;å¸³è™Ÿã€å¯†ç¢¼æˆ–é©—è­‰ç¢¼éŒ¯èª¤ï¼&quot;} //éªŒè¯ç é”™è¯¯: {&quot;code&quot;:0,&quot;message&quot;:&quot;é©—è­‰ç¢¼éŒ¯èª¤&quot;} return $.http.post({ //ä½¿ç”¨postè¯·æ±‚æŸ¥è¯¢ (å…¼å®¹å‡½æ•°å®é™…ä¸Šè¿”å›Promiseå®ä¾‹å¯¹è±¡,ä»¥ä¾¿åç»­è°ƒç”¨æ—¶å¯ä»¥å®ç°é¡ºåºæ‰§è¡Œå¼‚æ­¥å‡½æ•°) url: 'https://api.gamer.com.tw/mobile_app/user/v3/do_login.php', //ç™»å½•æ¥å£ headers: { //è¯·æ±‚å¤´ 'Cookie': 'ckAPP_VCODE=6666' //Cookieä¸­çš„ckAPP_VCODEä¸ºå¿…é¡» }, //è¯·æ±‚ä½“æ”¾å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œå¹¶æŠŠå®ƒuriç¼–ç  body: `uid=${encodeURIComponent($.uid)}&amp;passwd=${encodeURIComponent($.pwd)}&amp;vcode=6666` }) .then((resp) =&gt; { //è¯·æ±‚æˆåŠŸçš„å¤„ç† const body = JSON.parse(resp.body); //è§£æå“åº”ä½“jsonä¸ºå¯¹è±¡ if (body.userid) { //å¦‚æœæˆåŠŸè¿”å›ç”¨æˆ·ä¿¡æ¯ $.log('', `âœ…å·´å“ˆå§†ç‰¹ç™»å½•æˆåŠŸ`); // æ‰“å°æ—¥å¿— } else { //å¦åˆ™ç™»å½•å¤±è´¥ (ä¾‹å¦‚å¯†ç é”™è¯¯) const failMsg = body.error ? body.error.message : null; //åˆ¤æ–­ç­¾åˆ°å¤±è´¥åŸå›  throw new Error(`âŒç™»å½•å¤±è´¥\\nâŒ${body.message||failMsg||'æœªçŸ¥'}`); //å¸¦ä¸ŠåŸå› æŠ›å‡ºå¼‚å¸¸, è„šæœ¬ç»“æŸ } }) //æœªå†™catchï¼Œå¦‚æœç™»å½•å¤±è´¥ï¼Œä¾‹å¦‚æ— æ³•è”ç½‘ã€å¯†ç é”™è¯¯ç­‰, åˆ™è¢«è°ƒç”¨è¯¥å‡½æ•°æ—¶çš„catchæ•è·ï¼Œè„šæœ¬ç»“æŸ} ç­¾åˆ°å‡½æ•°ï¼ˆå·´å“ˆï¼‰åŸæ²¹çŒ´è„šæœ¬çš„ä¸šåŠ¡é€»è¾‘ä¸ºå…ˆæŸ¥è¯¢ç­¾åˆ°Tokenï¼Œå†æŠŠæ‹¿åˆ°çš„Tokenå»è¯·æ±‚ç­¾åˆ°ã€‚ é€ å¥½çš„è½®å­é€‚é…èµ·æ¥å°±æ˜¯èˆ’æœï¼Œçœäº†æŠ“åŒ…ï¼›æˆ‘ä»¬ç›´æ¥æŒ‰ç…§è¯¥é€»è¾‘å»é€‚é…ã€‚ å…·ä½“å®ç°ï¼š å·´å“ˆå§†ç‰¹ç­¾åˆ°å‡½æ•°123456789101112131415161718192021222324252627282930313233343536373839404142function BahamutSign() { //æŸ¥è¯¢å·´å“ˆå§†ç‰¹ç­¾åˆ°Token return $.http.get({ //ä½¿ç”¨getæ–¹æ³• (Promiseå®ä¾‹å¯¹è±¡) æŸ¥è¯¢ç­¾åˆ°Token url: 'https://www.gamer.com.tw/ajax/get_csrf_token.php', // æŸ¥è¯¢Tokenæ¥å£ headers: {} //è¯·æ±‚å¤´, å®¢æˆ·ç«¯å°†è‡ªåŠ¨è®¾ç½®Cookieå­—æ®µ }).then(async (resp) =&gt; { //ç½‘ç»œè¯·æ±‚æˆåŠŸçš„å¤„ç†, å®ä¾‹å‡½æ•°å¸¦æœ‰asyncå…³é”®å­—, è¡¨ç¤ºé‡Œé¢æœ‰å¼‚æ­¥æ“ä½œ if (resp.body) { //å¦‚æœç­¾åˆ°Tokenè·å–æˆåŠŸ $.log('', 'âœ…è·å–ç­¾åˆ°ä»¤ç‰ŒæˆåŠŸ'); //æ‰“å°æ—¥å¿— const sign = await StartSignBahamut(resp.body); //å¸¦ä¸ŠTokenå¼€å§‹ç­¾åˆ° $.notifyMsg.push(`ä¸»é¡µç­¾åˆ°: æˆåŠŸ, å·²è¿ç»­ç­¾åˆ°${sign}å¤©`); //æ·»åŠ åˆ°å…¨å±€å˜é‡å¤‡ç”¨ (é€šçŸ¥) } else { //å¦åˆ™æŠ›å‡ºå¼‚å¸¸ throw new Error('è·å–ç­¾åˆ°ä»¤ç‰Œå¤±è´¥'); //å¸¦ä¸ŠåŸå› è¢«ä¸‹é¢catchæ•è· } }) .catch(err =&gt; { $.notifyMsg.push(`ä¸»é¡µç­¾åˆ°: ${err.message||err}`); //æ·»åŠ åˆ°å…¨å±€å˜é‡å¤‡ç”¨ (é€šçŸ¥) $.log('', `âŒå·´å“ˆå§†ç‰¹ç­¾åˆ°å¤±è´¥`, `âŒ${err.message||err}`); }); // æ•è·å¼‚å¸¸, æ‰“å°æ—¥å¿—}function StartSignBahamut(token) { //å·´å“ˆå§†ç‰¹ç­¾åˆ° //ç­¾åˆ°æˆåŠŸ: {&quot;data&quot;:{&quot;days&quot;:1,&quot;dialog&quot;:&quot;&quot;,&quot;prjSigninDays&quot;:0}} //å·²ç­¾è¿‡: {&quot;error&quot;:{&quot;code&quot;:0,&quot;message&quot;:&quot;ä»Šå¤©æ‚¨å·²ç¶“ç°½åˆ°éäº†å–”&quot;,&quot;status&quot;:&quot;&quot;,&quot;details&quot;:[]}} //æœªç™»å½•: {&quot;error&quot;:{&quot;code&quot;:401,&quot;message&quot;:&quot;å°šæœªç™»å…¥&quot;,&quot;status&quot;:&quot;NO_LOGIN&quot;,&quot;details&quot;:[]}} //ä»¤ç‰Œè¿‡æœŸ: {&quot;error&quot;:{&quot;code&quot;:403,&quot;message&quot;:&quot;ç¶²é å·²éæœŸ&quot;,&quot;status&quot;:&quot;CSRF_TOKEN_ERROR&quot;,&quot;details&quot;:[]}} return $.http.post({ //ä½¿ç”¨postæ–¹æ³• (Promiseå®ä¾‹å¯¹è±¡) è¿›è¡Œç­¾åˆ° url: 'https://www.gamer.com.tw/ajax/signin.php', //å·´å“ˆå§†ç‰¹ç­¾åˆ°æ¥å£ headers: {}, //è¯·æ±‚å¤´, å®¢æˆ·ç«¯å°†è‡ªåŠ¨è®¾ç½®Cookieå­—æ®µ body: `action=1&amp;token=${token}` //è¯·æ±‚ä½“å¸¦ä¸ŠæŸ¥è¯¢åˆ°çš„ç­¾åˆ°Token }) .then(res =&gt; { // ç½‘ç»œè¯·æ±‚æˆåŠŸçš„å¤„ç† const body = JSON.parse(res.body); //è§£æå“åº”ä½“jsonä¸ºå¯¹è±¡ if (body.data) { // å¦‚æœç­¾åˆ°æˆåŠŸ (åˆ¤æ–­é¢„æœŸå“åº”æ ¼å¼) $.log('', 'âœ…å·´å“ˆå§†ç‰¹ç­¾åˆ°æˆåŠŸ', `âœ…å·²è¿ç»­ç­¾åˆ°${body.data.days}å¤©`); //æ‰“å°æ—¥å¿— return body.data.days; //è¿”å›ç­¾åˆ°å¤©æ•° } else { //å¦åˆ™ç­¾åˆ°å¤±è´¥ const failMsg = body.error ? body.error.message : null; //åˆ¤æ–­ç­¾åˆ°å¤±è´¥åŸå›  throw new Error(failMsg || body.message || 'æœªçŸ¥'); //å¸¦ä¸ŠåŸå› æŠ›å‡ºå¼‚å¸¸ } }); //æœªå†™catchï¼Œå¦‚æœç­¾åˆ°å¤±è´¥æˆ–å…¶ä»–é”™è¯¯ï¼Œåˆ™è¢«è°ƒç”¨è¯¥å‡½æ•°æ—¶çš„catchæ•è·} ç¬¬ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨åï¼ŒæŸ¥è¯¢ç­¾åˆ°TokenæˆåŠŸååˆ™è°ƒç”¨ç¬¬äºŒä¸ªå‡½æ•°ï¼›å¦‚æœè¿™ä¿©ä»»ä½•ä¸€ç¯å‡ºç°é”™è¯¯ï¼Œåˆ™ç›´æ¥è·³è¿‡è¯¥ç­¾åˆ°ï¼Œç»§ç»­è¿è¡Œå…¶ä»–ä»»åŠ¡ã€‚ ç­¾åˆ°å‡½æ•°ï¼ˆå…¬ä¼šï¼‰åŸæ²¹çŒ´è„šæœ¬çš„ä¸šåŠ¡é€»è¾‘ä¸ºå…ˆæŸ¥è¯¢å·²åŠ å…¥å…¬ä¼šçš„IDï¼Œå†è¿›è¡Œç­¾åˆ°æ“ä½œã€‚ æˆ‘ä»¬ç›´æ¥æŒ‰ç…§è¯¥é€»è¾‘å»é€‚é…ã€‚ å…·ä½“å®ç°ï¼š å…¬ä¼šç­¾åˆ°å‡½æ•°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061function BahamutGuildSign() { //å·´å“ˆå§†ç‰¹æŸ¥è¯¢å…¬ä¼šåˆ—è¡¨ if ($.needSignGuild === false || $.needSignGuild === 'false') { //å¦‚æœç”¨æˆ·é€‰æ‹©ä¸ç­¾åˆ°å…¬ä¼š return; //é€€å‡ºå…¬ä¼šç­¾åˆ°å‡½æ•° } return $.http.get({ //ä½¿ç”¨getè¯·æ±‚æŸ¥è¯¢å…¬ä¼šåˆ—è¡¨ (Promiseå®ä¾‹å¯¹è±¡) url: 'https://api.gamer.com.tw/ajax/common/topBar.php?type=forum', // æŸ¥è¯¢å…¬ä¼šåˆ—è¡¨æ¥å£ headers: {} //è¯·æ±‚å¤´, å®¢æˆ·ç«¯å°†è‡ªåŠ¨è®¾ç½®Cookieå­—æ®µ }) .then(async (resp) =&gt; { //ç½‘ç»œè¯·æ±‚æˆåŠŸçš„å¤„ç†, å®ä¾‹å‡½æ•°å¸¦æœ‰asyncå…³é”®å­—, è¡¨ç¤ºé‡Œé¢æœ‰å¼‚æ­¥æ“ä½œ const list = (resp.body.replace(/\\n/g, '').match(/guild\\.php\\?g?sn=\\d.+?&lt;\\/p&gt;/g) || []) //æ­£åˆ™è¿‡æ»¤å…¬ä¼šåˆ—è¡¨å¤§è‡´å†…å®¹ .map(n =&gt; { //ä½¿ç”¨mapéå†æ¯ä¸ªå¤§è‡´å†…å®¹ return { //è¿”å›åŒ…å«å…¬ä¼šIDå’Œå…¬ä¼šåç§°çš„å¯¹è±¡ sn: n.split(/guild\\.php\\?g?sn=(\\d+)/)[1], //æ­£åˆ™è¿›ä¸€æ­¥æå–å…¬ä¼šID name: n.split(/&lt;p&gt;(.+?)&lt;\\/p&gt;/)[1] //æ­£åˆ™è¿›ä¸€æ­¥æå–å…¬ä¼šåç§° } }); if (list.length) { //è¿‡æ»¤å, å¦‚æœåŒ…å«å…¬ä¼šåˆ—è¡¨ $.log('', `âœ…è·å–å…¬ä¼šåˆ—è¡¨æˆåŠŸ`); //æ‰“å°æ—¥å¿— //æŒ‰ç…§å…¬ä¼šæ•°é‡è¿›è¡Œå¹¶å‘ç­¾åˆ°, mapç»“åˆPromise.allåå¯ä»¥å®ç°å¹¶å‘ç­¾åˆ°å¹¶ä¸”éƒ½å®Œæˆåæ‰è¿›è¡Œä¸‹ä¸€è¡Œæ“ä½œ const sign = await Promise.all(list.map(StartSignGuild)); const sucs = sign.filter(n =&gt; n === 1).length; //è¿‡æ»¤åå¾—åˆ°æˆåŠŸæ•°é‡ const fail = sign.filter(n =&gt; n === 0).length; //è¿‡æ»¤åå¾—åˆ°å¤±è´¥æ•°é‡ //æ·»åŠ åˆ°å…¨å±€å˜é‡å¤‡ç”¨ (é€šçŸ¥) $.notifyMsg.push(`å…¬ä¼šç­¾åˆ°: ${sucs?`æˆåŠŸ${sucs}ä¸ª`:``}${sucs&amp;&amp;fail?`, `:``}${fail?`å¤±è´¥${fail}ä¸ª`:``}`); } else { throw new Error('å…¬ä¼šåˆ—è¡¨ä¸ºç©º'); //æ— å…¬ä¼šåˆ—è¡¨åˆ™æŠ›å‡ºå¼‚å¸¸ } }) .catch(err =&gt; { //æ•è·å¼‚å¸¸, æ‰“å°æ—¥å¿— $.notifyMsg.push(`å…¬ä¼šç­¾åˆ°: ${err.message || err}`); //æ·»åŠ åˆ°å…¨å±€å˜é‡å¤‡ç”¨ (é€šçŸ¥) $.log('', `âŒå·´å“ˆå§†ç‰¹å…¬ä¼šç­¾åˆ°å¤±è´¥`, `âŒ${err.message || err}`); //æ‰“å°æ—¥å¿— });}function StartSignGuild(v) { //å·´å“ˆå§†ç‰¹å…¬ä¼šç­¾åˆ° //ç­¾åˆ°æˆåŠŸ: {&quot;ok&quot;:1,&quot;msg&quot;:&quot;æœ¬æ—¥ç°½åˆ°æˆåŠŸï¼ç²å¾—5è²¢ç»åº¦&quot;} //å·²ç­¾è¿‡: {&quot;error&quot;:1,&quot;msg&quot;:&quot;æ‚¨ä»Šå¤©å·²ç¶“ç°½åˆ°éäº†ï¼&quot;} //å…¬ä¼šIDé”™è¯¯: {&quot;error&quot;:1,&quot;msg&quot;:&quot;æ­¤å…¬æœƒç¤¾åœ˜ä¸å­˜åœ¨ã€‚&quot;} //æœªåŠ å…¥å…¬ä¼š: {&quot;error&quot;:1,&quot;msg&quot;:&quot;ä½ é‚„ä¸æ˜¯æˆå“¡ï¼Œæ­¡è¿åŠ å…¥ï¼&quot;} //æœªç™»å½•: {&quot;error&quot;:1,&quot;msg&quot;:&quot;è«‹å…ˆç™»å…¥&quot;} return $.http.post({ //ä½¿ç”¨postæ–¹æ³•ç­¾åˆ°å…¬ä¼š (Promiseå®ä¾‹å¯¹è±¡) url: 'https://guild.gamer.com.tw/ajax/guildSign.php', //å…¬ä¼šç­¾åˆ°æ¥å£ headers: {}, //è¯·æ±‚å¤´, å®¢æˆ·ç«¯å°†è‡ªåŠ¨è®¾ç½®Cookieå­—æ®µ body: `sn=${v.sn}` //æŠŠæŸ¥è¯¢åˆ°çš„å…¬ä¼šIDæ”¾è¿›è¯·æ±‚ä½“ }) .then((res) =&gt; { //ç½‘ç»œè¯·æ±‚æˆåŠŸåçš„å¤„ç† const body = JSON.parse(res.body); //è§£æå“åº”ä½“jsonä¸ºå¯¹è±¡ $.log('', `ğŸ”·&lt;${v.name}&gt;`, `${body.ok?`âœ…`:`âŒ`}${body.msg}`); //æ‰“å°æ—¥å¿—, åŒ…å«ç­¾åˆ°ç»“æœ if (body.ok) { //å¦‚æœç­¾åˆ°æˆåŠŸ return 1; //è¿”å›1è¡¨ç¤ºæˆåŠŸ } else { return 0; //è¿”å›0è¡¨ç¤ºå¤±è´¥ } }) .catch(e =&gt; { //æ•è·å¼‚å¸¸, æ‰“å°æ—¥å¿— $.log('', `ğŸ”·&lt;${v.name}&gt;`, `âŒç­¾åˆ°å¤±è´¥: ${e.message||e}`); return 0; //è¿”å›0è¡¨ç¤ºå¤±è´¥ });} ç¬¬ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨åï¼Œé¦–å…ˆåˆ¤æ–­ç”¨æˆ·æ˜¯å¦å¼€å¯å…¬ä¼šç­¾åˆ°ï¼Œå¦‚æœå¼€å¯åˆ™å…ˆæŸ¥è¯¢å·²åŠ å…¥å…¬ä¼šçš„IDï¼ŒæŸ¥è¯¢æˆåŠŸåå†è°ƒç”¨ç¬¬äºŒä¸ªå‡½æ•°å¹¶å‘ç­¾åˆ°ã€‚ å¦‚æœç”¨æˆ·é€‰æ‹©å…³é—­å…¬ä¼šç­¾åˆ°æˆ–è€…æŸ¥è¯¢å…¬ä¼šIDå¤±è´¥ï¼Œåˆ™ç›´æ¥é€€å‡ºè¯¥ç­¾åˆ°ï¼Œç»§ç»­è¿è¡Œå…¶ä»–ä»»åŠ¡ã€‚ ç­”é¢˜å‡½æ•°ï¼ˆåŠ¨ç”»ç–¯ï¼‰åŸæ²¹çŒ´è„šæœ¬çš„ç­”é¢˜é€»è¾‘ç¨å¾®æœ‰ç‚¹å¤æ‚ï¼Œç®€å•æ¦‚æ‹¬å°±æ˜¯é»˜è®¤æ‰‹åŠ¨ç­”é¢˜ (æµè§ˆå™¨)ï¼Œå¦‚æœå¼€å¯è‡ªåŠ¨ç­”é¢˜ï¼Œåˆ™å…ˆæŸ¥è¯¢é¢˜ç›®ï¼ŒæŸ¥è¯¢æˆåŠŸåï¼š ä»blackxblueçš„å°å±‹è·å–ä»Šæ—¥ç­”æ¡ˆçš„æ–‡ç« ID å¦‚æœæ‰¾åˆ°æ–‡ç« IDï¼Œåˆ™æŸ¥è¯¢è¯¥æ–‡ç« å†…å®¹æ‰¾åˆ°ç­”æ¡ˆ å¦‚æœä»¥ä¸Šè·å–å¤±è´¥ï¼Œåˆ™è°ƒç”¨moontai0724çš„é¢˜åº“å¯»æ‰¾ç­”æ¡ˆï¼ˆè€—æ—¶è¿‡é•¿ï¼‰ æ‰€ä»¥æˆ‘ä»¬é€‚é…æ—¶å°†ç›´æ¥ä»blackxblueçš„å°å±‹è·å–ç­”æ¡ˆï¼Œè·å–å¤±è´¥åˆ™è·³è¿‡è¯¥ä»»åŠ¡ å…·ä½“å®ç°ï¼š åŠ¨ç”»ç–¯ç­”é¢˜å‡½æ•°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394function BahamutAnswer() { //åŠ¨ç”»ç–¯ç­”é¢˜ //æœªç­”é¢˜: {&quot;game&quot;:&quot;çŒç±ƒé«˜æ‰‹&quot;,&quot;question&quot;:&quot;æµå·æ¥“çš„è™Ÿç¢¼æ˜¯ä¸‹åˆ—ä½•è€…ï¼Ÿ&quot;,&quot;a1&quot;:&quot;7&quot;,&quot;a2&quot;:&quot;11&quot;,&quot;a3&quot;:&quot;23&quot;,&quot;a4&quot;:&quot;59&quot;,&quot;userid&quot;:&quot;GN32964174&quot;,&quot;token&quot;:&quot;01092fe463ab36ab47cb298e229c4f8fb298e229cc260fa7baf&quot;} //å·²ç­”é¢˜: {&quot;error&quot;:1,&quot;msg&quot;:&quot;ä»Šæ—¥å·²ç¶“ç­”éé¡Œç›®äº†ï¼Œä¸€å¤©åƒ…é™ä¸€æ¬¡æ©Ÿæœƒ&quot;} //æœªç™»å½•: {&quot;error&quot;:1,&quot;nologin&quot;:1,&quot;msg&quot;:&quot;è«‹å…ˆç™»å…¥&quot;} if ($.needAnswer === false || $.needAnswer === 'false') { //å¦‚æœç”¨æˆ·å…³é—­åŠ¨ç”»ç–¯ç­”é¢˜ return; //é€€å‡ºç­”é¢˜å‡½æ•° } return $.http.get({ //ä½¿ç”¨getæ–¹è·å–é¢˜ç›® (Promiseå®ä¾‹å¯¹è±¡) url: 'https://ani.gamer.com.tw/ajax/animeGetQuestion.php?t=' + Date.now(), //è·å–é¢˜ç›®æ¥å£ headers: {} //è¯·æ±‚å¤´, å®¢æˆ·ç«¯å°†è‡ªåŠ¨è®¾ç½®Cookieå­—æ®µ }) .then(async (res) =&gt; { //ç½‘ç»œè¯·æ±‚æˆåŠŸçš„å¤„ç†, å®ä¾‹å‡½æ•°å¸¦æœ‰asyncå…³é”®å­—, è¡¨ç¤ºé‡Œé¢æœ‰å¼‚æ­¥æ“ä½œ const r = JSON.parse(res.body); //è§£æå“åº”ä½“jsonä¸ºå¯¹è±¡ if (r.token) { //å¦‚æœæœ‰é¢˜ç›® $.log('', `âœ…è·å–åŠ¨ç”»ç–¯é¢˜ç›®æˆåŠŸ`, ``, `ğŸ”¶&lt;${r.game}&gt; ${r.question}`, `1ï¸âƒ£${r.a1}`, `2ï¸âƒ£${r.a2}`, `3ï¸âƒ£${r.a3}`, `4ï¸âƒ£${r.a4}`); //æ‰“å°æ—¥å¿— const article = await GetAanswerArticles(); //è·å–ç­”æ¡ˆæ–‡ç« ID const getAnswer = await StartSearchAnswers(article); //ä¼ å…¥æ–‡ç« ID, å†ä»æ–‡ç« å†…è·å–ç­”æ¡ˆ const sendAnswer = await StartBahamutAnswer(getAnswer, r.token); //ä¼ å…¥ç­”æ¡ˆå’Œé¢˜ç›®ä»¤ç‰Œ, å¼€å§‹ç­”é¢˜ $.notifyMsg.push(`åŠ¨ç”»ç­”é¢˜: ${sendAnswer}`); //ç­”é¢˜åçš„ç»“æœæ·»åŠ åˆ°å…¨å±€å˜é‡å¤‡ç”¨ (é€šçŸ¥) } else { //æœªè·å–åˆ°é¢˜ç›® throw new Error(r.msg || `è·å–é¢˜ç›®å¤±è´¥`); //å¸¦ä¸ŠåŸå› æŠ›å‡ºå¼‚å¸¸ } }) .catch(e =&gt; { //æ•è·å¼‚å¸¸, æ‰“å°æ—¥å¿— $.notifyMsg.push(`åŠ¨ç”»ç­”é¢˜: ${e.message||e||`å¤±è´¥`}`); //æ·»åŠ åˆ°å…¨å±€å˜é‡å¤‡ç”¨ (é€šçŸ¥) $.log('', `âŒåŠ¨ç”»ç–¯ç­”é¢˜å¤±è´¥`, `âŒ${e.message||e}`); //æ‰“å°æ—¥å¿— });}function GetAanswerArticles() { // ä»blackxblueçš„å°å±‹æŸ¥è¯¢å«ç­”æ¡ˆçš„æ–‡ç« ID $.log('', `ğŸ”¶å¼€å§‹è·å–æ–‡ç« `); //æ‰“å°æ—¥å¿— return $.http.get({ //ä½¿ç”¨getæ–¹æ³•è·å–æ–‡ç« ID (Promiseå®ä¾‹å¯¹è±¡) url: 'https://api.gamer.com.tw/mobile_app/bahamut/v1/home.php?owner=blackXblue&amp;page=1', //è·å–æ–‡ç« IDæ¥å£ headers: {} }) .then((res) =&gt; { //ç½‘ç»œè¯·æ±‚æˆåŠŸåçš„å¤„ç† const body = JSON.parse(res.body); //è§£æå“åº”ä½“jsonä¸ºå¯¹è±¡ const tDate = $.time('MM/dd'); //è¿”å›ä»Šæ—¥æ—¥æœŸ const title = (body.creation || []).filter(t =&gt; t.title.includes(tDate)); //è¿‡æ»¤åè¿”å›ä»Šæ—¥ç­”æ¡ˆæ–‡ç«  if (title.length &amp;&amp; title[0].sn) { //å¦‚æœæœ‰ç­”æ¡ˆæ–‡ç«  $.log('', `âœ…è·å–æ–‡ç« æˆåŠŸ (${title[0].sn})`); //æ‰“å°æ—¥å¿— return title[0].sn; //è¿”å›æ–‡ç« ID } else { //å¦åˆ™å¸¦ä¸ŠåŸå› æŠ›å‡ºå¼‚å¸¸, è¢«è°ƒç”¨è¯¥å‡½æ•°æ—¶çš„catchæ•è· throw new Error('ä»Šæ—¥ç­”æ¡ˆæœªå‘è¡¨'); } })}function StartSearchAnswers(id) { //è·å–æ–‡ç« å†…ç­”æ¡ˆ $.log('', `ğŸ”¶å¼€å§‹è·å–ç­”æ¡ˆ`); //æ‰“å°æ—¥å¿— return $.http.get({ //ä½¿ç”¨getæ–¹æ³•è·å–ç­”æ¡ˆ (Promiseå®ä¾‹å¯¹è±¡) url: 'https://api.gamer.com.tw/mobile_app/bahamut/v1/home_creation_detail.php?sn=' + id, //è·å–ç­”æ¡ˆæ¥å£ headers: {} }) .then((res) =&gt; { //ç½‘ç»œè¯·æ±‚æˆåŠŸåçš„å¤„ç† const body = JSON.parse(res.body); //è§£æå“åº”ä½“jsonä¸ºå¯¹è±¡ const answers = body.content.split(/A:(\\d)/)[1]; //æ­£åˆ™æå–ç­”æ¡ˆ if (answers) { //å¦‚æœæˆåŠŸæå–ç­”æ¡ˆ $.log('', `âœ…è·å–ç­”æ¡ˆæˆåŠŸ (${answers})`); //æ‰“å°æ—¥å¿— return answers; //è¿”å›ç­”æ¡ˆ } else { //å¦åˆ™å¸¦ä¸ŠåŸå› æŠ›å‡ºå¼‚å¸¸, è¢«è°ƒç”¨è¯¥å‡½æ•°æ—¶çš„catchæ•è· throw new Error('æå–ç­”æ¡ˆå¤±è´¥'); } })}function StartBahamutAnswer(answer, token) { //åŠ¨ç”»ç–¯ç­”é¢˜ //ç­”é¢˜æ­£ç¡®: {&quot;ok&quot;:1,&quot;gift&quot;:&quot;æ­å–œæ‚¨å¾—åˆ°ï¼š300 å·´å¹£&quot;} //ç­”é¢˜é”™è¯¯: {&quot;error&quot;:1,&quot;msg&quot;:&quot;ç­”é¡ŒéŒ¯èª¤&quot;} //ä»¤ç‰Œè¿‡æœŸ: {&quot;error&quot;:1,&quot;msg&quot;:&quot;å¾ˆæŠ±æ­‰ï¼æœ¬é¡Œç›®å·²è¶…éæ™‚æ•ˆï¼&quot;} //å·²ç­”é¢˜: {&quot;error&quot;:1,&quot;msg&quot;:&quot;ä»Šæ—¥å·²ç¶“ç­”éé¡Œç›®äº†ï¼Œä¸€å¤©åƒ…é™ä¸€æ¬¡æ©Ÿæœƒ&quot;} //æœªç™»å½•: {&quot;error&quot;:1,&quot;nologin&quot;:1,&quot;msg&quot;:&quot;è«‹å…ˆç™»å…¥&quot;} $.log('', `ğŸ”¶å¼€å§‹ç­”é¢˜`); //æ‰“å°æ—¥å¿— return $.http.post({ //ä½¿ç”¨postæ–¹æ³•æäº¤ç­”æ¡ˆ (Promiseå®ä¾‹å¯¹è±¡) url: 'https://ani.gamer.com.tw/ajax/animeAnsQuestion.php', //æäº¤ç­”æ¡ˆæ¥å£ headers: {}, //è¯·æ±‚å¤´, å®¢æˆ·ç«¯å°†è‡ªåŠ¨è®¾ç½®Cookieå­—æ®µ body: `token=${token}&amp;ans=${answer}&amp;t=${Date.now()}`, //è¯·æ±‚ä½“å¸¦ä¸Šç­”æ¡ˆå’Œç­”æ¡ˆä»¤ç‰Œ }) .then((res) =&gt; { //ç½‘ç»œè¯·æ±‚æˆåŠŸåçš„å¤„ç† const body = JSON.parse(res.body); //è§£æå“åº”ä½“jsonä¸ºå¯¹è±¡ if (body.ok) { //å¦‚æœç­”é¢˜æˆåŠŸ $.log('', `âœ…${body.gift}`); //æ‰“å°å¥–åŠ±æ—¥å¿— return body.gift; //è¿”å›å¥–åŠ±å†…å®¹ } else { //å¦åˆ™ç­”é¢˜å¤±è´¥ const failMsg = body.error ? body.error.message : null; //æå–ç­¾åˆ°å¤±è´¥åŸå›  throw new Error(body.msg || failMsg || 'æœªçŸ¥'); //å¦åˆ™å¸¦ä¸ŠåŸå› æŠ›å‡ºå¼‚å¸¸, è¢«è°ƒç”¨è¯¥å‡½æ•°æ—¶çš„catchæ•è· } })} å…±æœ‰å››ä¸ªå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨åé¦–å…ˆæŸ¥è¯¢é¢˜ç›®ï¼Œå¦‚æœæŸ¥è¯¢æˆåŠŸï¼š è°ƒç”¨ç¬¬äºŒä¸ªå‡½æ•°ä»blackxblueçš„å°å±‹æŸ¥è¯¢ä»Šæ—¥ç­”æ¡ˆçš„æ–‡ç« ID è°ƒç”¨ç¬¬ä¸‰ä¸ªå‡½æ•°æŸ¥è¯¢æ–‡ç« å†…çš„ç­”æ¡ˆ è°ƒç”¨ç¬¬å››ä¸ªå‡½æ•°åˆ™è¿›è¡Œç­”é¢˜ å¦‚æœä»¥ä¸Šä»»ä¸€ç¯èŠ‚æŸ¥è¯¢å¤±è´¥ï¼Œåˆ™ä¸ä¼šå†ç»§ç»­æ‰§è¡Œå…¶ä½™å‡½æ•°ï¼Œè·³è¿‡åŠ¨ç”»ç–¯ç­”é¢˜ã€‚ ç»Ÿä¸€è°ƒç”¨å†™å¥½å‡½æ•°åï¼Œå¦‚æœä¸è¿›è¡Œè°ƒç”¨ï¼Œé‚£ä¹ˆä»£ç æ˜¯æ— æ³•è¢«è¿è¡Œçš„. åœ¨javascriptä¸­ï¼Œä»£ç çš„æ‰§è¡Œé¡ºåºå¾ˆé‡è¦ï¼Œæˆ‘ä»¬çš„éœ€æ±‚æ˜¯å…ˆå®Œæˆä¸€ä¸ªä»»åŠ¡åå†è¿›è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡ï¼Œæœ€åé€€å‡ºè„šæœ¬. ä»¥ä¸‹åŒ¿åå‡½æ•°å°†æŒ‰æˆ‘ä»¬é¢„æœŸçš„é¡ºåºæ‰§è¡Œ. åŒ¿åå¼‚æ­¥å‡½æ•°12345678910111213(async function() { // ç«‹å³è¿è¡Œçš„åŒ¿åå¼‚æ­¥å‡½æ•° await BahamutLogin(); // ç™»å½• await BahamutGuildSign(); //ç­¾åˆ°å·´å“ˆå…¬ä¼š await BahamutSign(); //ç­¾åˆ°å·´å“ˆ await BahamutAnswer(); //åŠ¨ç”»ç–¯ç­”é¢˜})().catch((e) =&gt; $.notifyMsg.push(e.message || e)) //æ•è·ç™»å½•å‡½æ•°ç­‰æŠ›å‡ºçš„å¼‚å¸¸, å¹¶æŠŠåŸå› æ·»åŠ åˆ°å…¨å±€å˜é‡(é€šçŸ¥) .finally(() =&gt; { //finallyåœ¨catchä¹‹åæ— è®ºæœ‰æ— å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ $.msg(`å·´å“ˆå§†ç‰¹`, ``, $.notifyMsg.join('\\n'), { 'open-url': 'crazyanime://', //åŠ¨ç”»ç–¯url scheme 'media-url': 'https://cdn.jsdelivr.net/gh/NobyDa/mini@master/Color/bahamutClear.png' //é€šçŸ¥å›¾ç‰‡ }); //å¸¦ä¸Šæ€»ç»“æ¨é€é€šçŸ¥ $.done(); //è°ƒç”¨Surgeã€QXå†…éƒ¨ç‰¹æœ‰çš„å‡½æ•°, ç”¨äºé€€å‡ºè„šæœ¬æ‰§è¡Œ }); è‡³æ­¤è„šæœ¬é€‚é…å·²å®Œæˆã€‚ é…ç½®ä»»åŠ¡æˆ‘ä»¬å†™å¥½è„šæœ¬åï¼Œå°±å¯ä»¥åœ¨Surgeæˆ–QuantumultXé‡Œé…ç½®å®šæ—¶ä»»åŠ¡è®©å®ƒåœ¨è§„å®šæ—¶é—´å†…æ‰§è¡Œè¯¥è„šæœ¬. ä»¥ä¸‹å°†ç”¨Surgeè¿›è¡Œæ¼”ç¤º ç¼–è¾‘Surgeé…ç½®æ–‡ä»¶ï¼Œåœ¨[Script]æ®µè½æ”¾å…¥ä»¥ä¸‹è„šæœ¬ 1å·´å“ˆå§†ç‰¹ç­¾åˆ° = type=cron,cronexp=&quot;0 8 * * *&quot;,wake-system=1,timeout=30,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Bahamut/BahamutDailyBonus.js ä»¥ä¸Šé…ç½®å°†åœ¨æ¯å¤©çš„æ—©ä¸Š8:00æ‰§è¡Œã€‚ æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ï¼š éœ€è¦è¿›å…¥BoxJså¡«å†™è´¦å·å¯†ç ï¼Œæˆ–è€…æ‰‹åŠ¨å¡«å…¥è„šæœ¬ï¼ˆå…¨å±€å˜é‡ï¼‰ è„šæœ¬ä¸å»ºè®®åœ¨å‡Œæ™¨æ‰§è¡Œï¼ˆéœ€è¦è·å–blackxblueå‘å¸ƒçš„åŠ¨ç”»ç–¯ç­”æ¡ˆï¼‰ è„šæœ¬å…¼å®¹Surgeã€QuantumultXã€Loonã€Shadowrocket ä»¥åŠ Node.js (éœ€å®‰è£…gotã€tough-cookieæ¨¡å—) åè®°è™½ç„¶æ²¹çŒ´ç‰ˆå·´å“ˆå§†ç‰¹ç­¾åˆ°å¹¶éé„™äººåŸåˆ›ï¼Œä½†äºŒæ¬¡é€‚é…èµ·æ¥å¹¶ä¸äºšäºé‡æ„æ•´ä¸ªè„šæœ¬ï¼Œè„šæœ¬çš„é€»è¾‘ä¹Ÿéœ€è¦é‡æ–°è®¾è®¡ã€‚ æ•™å­¦ç±»å‹æ–‡ç« ä¸å¯é¿å…ä¼šæœ‰ä¸€äº›ä¸“ä¸šæ€§ï¼ŒæŠ“åŒ…éƒ¨åˆ†å¯¹äºåˆå­¦è€…æ¥è¯´å¹¶ä¸éš¾ï¼Œè„šæœ¬éƒ¨åˆ†ä¹ŸåŒ…å«å¤§é‡çš„æ³¨é‡Šä¾›è¯»è€…ç†è§£æ‰§è¡Œé€»è¾‘ã€‚ ä¿—è¯è¯´ï¼šæˆäººä»¥é±¼ä¸å¦‚æˆäººä»¥æ¸”ï¼Œæˆä¹‹ä»¥æ¸”å¯è§£ä¸€ç”Ÿä¹‹éœ€ï¼› ç¥å¤§å®¶å­¦æˆå½’æ¥ã€‚","link":"/2021/07/24/Bahamut_daily_bonus_js_example/"},{"title":"è®°å½•ä¸€æ¬¡Surge &amp; QuantumultX è„šæœ¬å¼€å‘è¿‡ç¨‹","text":"å‰è¨€ æœ¬æ–‡ä¸»è¦è®°å½•ä¸€æ¬¡Surgeæˆ–QuantumultXçš„è„šæœ¬å¼€å‘è¿‡ç¨‹, è¿‡ç¨‹åŒ…æ‹¬æŠ“åŒ…ã€åˆ†æã€è°ƒè¯•ã€ä»¥åŠç¼–å†™è„šæœ¬. è®°å½•å†…å®¹ä¸ºå“”å“©å“”å“©æ¼«ç”»ç§¯åˆ†å•†åŸè‡ªåŠ¨æŠ¢åˆ¸è„šæœ¬. èƒŒæ™¯ä½œä¸ºä¸€ä¸ªåˆæ ¼çš„äºŒæ¬¡å…ƒè¿·, æ¼«ç”»å½“ç„¶æ˜¯å°‘ä¸äº†ğŸ§ å›½å†…æ—¥æ¼«å¤§å¤šéƒ½è¢«å“”å“©å“”å“©æ¼«ç”»æ‹¿ä¸‹ç‰ˆæƒ, ç„¶è€Œé‡Œé¢å¤§å¤šæ•°çš„æ—¥æ¼«éƒ½éœ€è¦æ°ªé‡‘æˆ–ä½¿ç”¨æ¼«è¯»åˆ¸æ‰èƒ½çœ‹; æœ€è¿‘å‘ç°ä½¿ç”¨ç­¾åˆ°è„šæœ¬è·å¾—çš„ç§¯åˆ†å›¤å¾—å·®ä¸å¤šäº†, æ¢æ¼«è¯»åˆ¸åˆå¯ä»¥çœä¸€ç¬”, æ— å¥ˆè€æ˜¯é”™è¿‡ç›¸å…³å•†å“å…‘æ¢æ—¶é—´, ä¸€æ°”ä¹‹å†™äº†ä¸ªè„šæœ¬è®©å®ƒåœ¨è§„å®šæ—¶é—´å†…è‡ªåŠ¨æŠ¢åˆ¸. è¿‡ç¨‹ç¬¬ä¸€æ­¥: æŠ“åŒ…æœ¬æ–‡å°†ä½¿ç”¨Thorè¿›è¡ŒæŠ“åŒ…, å¹¶ä½¿ç”¨Anubisè¿›è¡Œé‡æ”¾æ¼”ç¤º, ç®€å•åˆ†æå“”å“©å“”å“©æ¼«ç”»çš„ç½‘ç»œè¯·æ±‚. æˆ‘ä»¬è¿›å…¥å“”å“©å“”å“©æ¼«ç”»APPå, æ‰“å¼€Thorå¼€å¯æŠ“åŒ…, è¿”å›APPç§¯åˆ†å•†åŸéšä¾¿å…‘æ¢ä¸€ä¸ªä¸œè¥¿, å†è¿”å›Thorå…³é—­æŠ“åŒ…. Thoræœ‰ç€å®Œå¤‡çš„å…³é”®å­—è¿‡æ»¤, åˆšåˆšå…‘æ¢äº†75ç§¯åˆ†çš„å•†å“, æˆ‘ä»¬å¯ä»¥å°è¯•æœç´¢è¯·æ±‚ä½“å’Œå“åº”ä½“å†…çš„å…³é”®å­—, çœ‹çœ‹æ˜¯å¦æœ‰ç»“æœ. æœç´¢åä¸€ä¸ªåä¸ºPointshop/Exchangeçš„è¯·æ±‚ç›´æ¥æ˜ å…¥çœ¼ä¸‹, ç¿»è¯‘æˆä¸­æ–‡å¤§æ„ä¸º åº—é“º/å…‘æ¢, å¾ˆç›´è§‚. æˆ‘ä»¬è¿›ä¸€æ­¥æŸ¥çœ‹è¯¥è¯·æ±‚çš„è¯·æ±‚ä½“, ä»¥åŠå“åº”ä½“. å¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°è¯·æ±‚ä½“ä¸­çš„å„ç§å‚æ•°, product_id è¡¨ç¤ºå…‘æ¢çš„å•†å“, product_num è¡¨ç¤ºå…‘æ¢çš„æ•°é‡, point è¡¨ç¤ºæ¶ˆè€—çš„ç§¯åˆ†. å“åº”ä½“ä¸­codeä¸º0è¡¨ç¤ºå…‘æ¢æˆåŠŸ, expire_dayè¡¨ç¤ºæœ‰æ•ˆæœŸ, remain_amountè¡¨ç¤ºè¯¥å•†å“åº“å­˜. æˆ‘ä»¬æŠŠè¯¥è¯·æ±‚ä½¿ç”¨anubisé‡æ”¾, çœ‹çœ‹è¯¥æ¥å£æ˜¯å¦æœ‰æ•ˆ. å¯ä»¥çœ‹åˆ°é‡æ”¾åè¯¥æ¥å£æ˜¯å¯ç”¨çš„, å•†å“å‰©ä½™æ•°é‡ç›¸åº”å‡å°‘, è¿”å›appæŸ¥çœ‹è´¦å·ç§¯åˆ†ä¹Ÿå‡å°‘äº†75å¹¶æ”¶åˆ°å•†å“. ä¹‹åæˆ‘ä»¬çœ‹ä¸€ä¸‹è¯·æ±‚ä½“ä¸­çš„product_idçš„å•†å“idæ˜¯æ€ä¹ˆæ¥çš„, è¿”å›Thorä¹‹å‰æŠ“åˆ°çš„åŒ…, ç­›é€‰å™¨æœç´¢1048å…³é”®å­—. æœç´¢åæœ‰ä¸€ä¸ªå«ListProductçš„è¯·æ±‚, ç¿»è¯‘æˆä¸­æ–‡å¤§æ„ä¸ºå•†å“æ¸…å•, æˆ‘ä»¬ç‚¹å¼€å“åº”ä½“å¯ä»¥çœ‹åˆ°ä¸€ä¸ªå•†å“åä¸ºâ€å°æ™ºæ€ªè°ˆâ€çš„å•†å“, å•†å“idä¸º1048, å•†å“åº“å­˜ä¸º3796, æ­£æ˜¯æˆ‘ä¹‹å‰æ‰€å…‘æ¢çš„å•†å“. è¯¥æ¥å£ä½¿ç”¨anubisé‡æ”¾åå¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜; æœ€åè¿˜å·®ä¸€ä¸ªæŸ¥è¯¢è´¦æˆ·ç§¯åˆ†çš„æ¥å£, æˆ‘ä»¬ä½¿ç”¨Thorç­›é€‰å™¨æœç´¢å“åº”å…³é”®å­—, å¼€å¯æŠ“åŒ…ä¹‹å‰æˆ‘çš„è´¦æˆ·æœ‰3172ç§¯åˆ†, åˆ™å°è¯•æœç´¢3172 å¯ä»¥çœ‹åˆ°æœ‰ä¸€ä¸ªå«GetUserPointçš„è¯·æ±‚, ç¿»è¯‘æˆä¸­æ–‡å¤§æ„ä¸ºè·å–ç”¨æˆ·ç§¯åˆ†, ç‚¹å¼€å“åº”åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŸ¥è¯¢åˆ°çš„è´¦æˆ·ç§¯åˆ†. ç¬¬äºŒæ­¥: åˆ†ææˆ‘ä»¬æŠ“åˆ°æ¥å£åä½¿ç”¨anubisé‡æ”¾è¿›ä¸€æ­¥åˆ†æ: ç²¾ç®€å‚æ•°, åˆ†æurlä¸­çš„deviceä¹‹ç±»çš„å‚æ•°æ˜¯å¦å¿…é¡»ã€æ˜¯å¦éªŒè¯Cookieã€è¯·æ±‚ä½“æ˜¯å¦å¿…é¡», ä»¥å‡å°‘è„šæœ¬ç¼–å†™å·¥ä½œé‡. åˆ†æå„ç§æƒ…å†µä¸‹æ¥å£è¿”å›ä¸åŒå“åº”çš„å¯èƒ½æ€§, ä¾›è„šæœ¬æ­£ç¡®åˆ¤æ–­. åˆ†ææŸ¥è¯¢ç§¯åˆ†æ¥å£12åŸæ¥å£https://manga.bilibili.com/twirp/pointshop.v1.Pointshop/GetUserPoint?device=h5&amp;platform=web ç»è¿‡å„ç§é‡æ”¾åå¯å¾—çŸ¥ æ¥å£å¯çœç•¥urlä¸­çš„å‚æ•°. è¯·æ±‚ä½“å¯çœç•¥. å¿…é¡»ä½¿ç”¨POSTæ–¹æ³•. ä½¿ç”¨è¯·æ±‚å¤´ä¸­çš„Cookieå­—æ®µä½œä¸ºç”¨æˆ·é‰´æƒ, ä¸€äº›éå¿…è¦å­—æ®µä¹Ÿå¯çœç•¥. å¸¦æœ‰æ•ˆCookieå“åº”ä½“å†…å®¹ä¸º 1234567{ &quot;code&quot;: 0, &quot;msg&quot;: &quot;&quot;, &quot;data&quot;: { &quot;point&quot;: &quot;ç”¨æˆ·å®é™…ç§¯åˆ†æ•°é‡&quot; }} Cookieå¤±æ•ˆåå“åº”ä½“å†…å®¹ä¸º 1234567{ &quot;code&quot;: 0, &quot;msg&quot;: &quot;&quot;, &quot;data&quot;: { &quot;point&quot;: &quot;0&quot; }} åˆ†ææŸ¥è¯¢å•†å“æ¥å£12åŸæ¥å£https://manga.bilibili.com/twirp/pointshop.v1.Pointshop/ListProduct?device=h5&amp;platform=web ç»è¿‡å„ç§é‡æ”¾åå¯å¾—çŸ¥ æ¥å£å¯çœç•¥urlä¸­çš„å‚æ•°. è¯·æ±‚ä½“å¯çœç•¥. å¿…é¡»ä½¿ç”¨POSTæ–¹æ³•. æ— éœ€ç”¨æˆ·é‰´æƒ. å“åº”ä½“: 123456789101112131415161718192021222324252627{ &quot;code&quot;: 0, &quot;msg&quot;: &quot;&quot;, &quot;data&quot;: [{ &quot;id&quot;: 195, &quot;type&quot;: 7, &quot;title&quot;: &quot;ç§¯åˆ†å…‘æ¢&quot;, &quot;image&quot;: &quot;&quot;, &quot;amount&quot;: 15999, &quot;cost&quot;: 200, &quot;real_cost&quot;: 100, &quot;remain_amount&quot;: 0, &quot;comic_id&quot;: 0, &quot;limits&quot;: [], &quot;discount&quot;: 0, &quot;product_type&quot;: 1, &quot;pendant_url&quot;: &quot;&quot;, &quot;pendant_expire&quot;: 0, &quot;exchange_limit&quot;: 0, &quot;address_deadline&quot;: &quot;0001-01-01T00:00:00Z&quot;, &quot;act_type&quot;: 0, &quot;has_exchanged&quot;: false, &quot;main_coupon_deadline&quot;: &quot;0001-01-01T00:00:00Z&quot;, &quot;deadline&quot;: &quot;&quot;, &quot;point&quot;: &quot;0&quot; }]} ä»¥ä¸Šéå®é™…å“åº”, å…¶ä»–å•†å“è¿‡å¤š, å·²çœç•¥. åˆ†æå…‘æ¢å•†å“æ¥å£12åŸæ¥å£https://manga.bilibili.com/twirp/pointshop.v1.Pointshop/Exchange?device=h5&amp;platform=web ç»è¿‡å„ç§é‡æ”¾åå¯å¾—çŸ¥ æ¥å£å¯çœç•¥urlä¸­çš„å‚æ•°. è¯·æ±‚ä½“éœ€å¸¦æœ‰ 12345{ &quot;product_id&quot;: &quot;å•†å“ID&quot;, &quot;product_num&quot;: &quot;å•†å“å…‘æ¢æ•°é‡&quot;, &quot;point&quot;: &quot;æ€»æ¶ˆè€—ç§¯åˆ†æ•°é‡&quot;} å¿…é¡»ä½¿ç”¨POSTæ–¹æ³•. ä½¿ç”¨è¯·æ±‚å¤´ä¸­çš„Cookieå­—æ®µä½œä¸ºç”¨æˆ·é‰´æƒ, ä¸€äº›éå¿…è¦å­—æ®µä¹Ÿå¯çœç•¥. å…‘æ¢æˆåŠŸå“åº”ä½“å†…å®¹ä¸º 12345678910{ &quot;code&quot;: 0, &quot;msg&quot;: &quot;&quot;, &quot;data&quot;: { &quot;id&quot;: &quot;å•†å“ä½¿ç”¨ID&quot;, &quot;expire_day&quot;: &quot;å•†å“è¿‡æœŸå‰©ä½™å¤©&quot;, &quot;remain_amount&quot;: &quot;å•†å“åº“å­˜&quot;, &quot;deadline&quot;: &quot;0001-01-01T00:00:00Z&quot; }} ç¬¬ä¸‰æ­¥: ç¼–å†™è„šæœ¬ ä»€ä¹ˆæ˜¯å‡½æ•° å‡½æ•°æ˜¯ JavaScript ä¸­çš„åŸºæœ¬ç»„ä»¶ä¹‹ä¸€, ä¸€ä¸ªå‡½æ•°æ˜¯ JavaScriptè¿‡ç¨‹ä¸­æ‰§è¡Œä¸€ç»„ä»»åŠ¡æˆ–è®¡ç®—å€¼çš„è¯­å¥. æœ¬æ–‡çš„æŠ¢åˆ¸è„šæœ¬å°†å®šä¹‰å„ç§å‡½æ•°ä»¥æ–¹ä¾¿ç»Ÿä¸€è°ƒç”¨. æŸ¥çœ‹ JavaScript å‡½æ•°è¯¦ç»†å‚è€ƒæ–‡æ¡£ äº†è§£æ›´å¤š. åº”ç”¨å…¼å®¹ç”±äºè¯¥è„šæœ¬é’ˆå¯¹å¤šå¹³å°, è„šæœ¬çš„å†™æ³•éœ€è¦åŒæ—¶å…¼å®¹Surgeæˆ–QuanXä¹‹ç±»çš„å®¢æˆ·ç«¯, é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å†™ä¸€ä¸ªå…¼å®¹å‡½æ•°è®©å®ƒåœ¨ä¸åŒç¯å¢ƒä¸‹ä¹Ÿèƒ½è¢«æ­£ç¡®æ‰§è¡Œ. ä»¥ä¸‹å‡½æ•°å…¼å®¹Surgeã€QXã€Loonä¸­çš„éƒ¨åˆ†API, åŒ…æ‹¬æŒä¹…åŒ–è¯»å–ã€é€šçŸ¥ã€POSTè¯·æ±‚ å…¼å®¹å‡½æ•° (ç‚¹å‡»å·¦è¾¹ç®­å¤´å±•å¼€) >folded123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869// const $ = new nobyda(); // å‘é€ä¸€ä¸ªé€šçŸ¥: $.notify('title', 'subtitle', 'message')// æŒä¹…åŒ–è¯»å–: $.read('Key')// POSTè¯·æ±‚: $.post(url&lt;Object&gt;,callback&lt;Function&gt;)function nobyda() { const isSurge = typeof $httpClient != &quot;undefined&quot;; const isQuanX = typeof $task != &quot;undefined&quot;; const isNode = typeof require == &quot;function&quot;; const node = (() =&gt; { if (isNode) { const request = require('request'); return { request } } else { return null; } })() const adapterStatus = (response) =&gt; { if (response) { if (response.status) { response[&quot;statusCode&quot;] = response.status } else if (response.statusCode) { response[&quot;status&quot;] = response.statusCode } } return response } this.read = (key) =&gt; { if (isQuanX) return $prefs.valueForKey(key) if (isSurge) return $persistentStore.read(key) } this.notify = (title, subtitle, message) =&gt; { if (isQuanX) $notify(title, subtitle, message) if (isSurge) $notification.post(title, subtitle, message) if (isNode) console.log(`${title}\\n${subtitle}\\n${message}`) } this.post = (options, callback) =&gt; { options.headers['User-Agent'] = 'User-Agent: Mozilla/5.0 (iPhone; CPU iPhone OS 13_6_1 like Mac OS X) AppleWebKit/609.3.5.0.2 (KHTML, like Gecko) Mobile/17G80 BiliApp/822 mobi_app/ios_comic channel/AppStore BiliComic/822' if (isQuanX) { if (typeof options == &quot;string&quot;) options = { url: options } options[&quot;method&quot;] = &quot;POST&quot; $task.fetch(options).then(response =&gt; { callback(null, adapterStatus(response), response.body) }, reason =&gt; callback(reason.error, null, null)) } if (isSurge) { options.headers['X-Surge-Skip-Scripting'] = false $httpClient.post(options, (error, response, body) =&gt; { callback(error, adapterStatus(response), body) }) } if (isNode) { node.request.post(options, (error, response, body) =&gt; { callback(error, adapterStatus(response), body) }) } } this.done = () =&gt; { if (isQuanX || isSurge) { $done() } }}; å…¨å±€å˜é‡å†™å¥½å…¼å®¹å‡½æ•°åæˆ‘ä»¬å…ˆå®šä¹‰ä¸€äº›å…¨å±€å˜é‡, ä¾›æ‰€æœ‰å‡½æ•°è°ƒç”¨. å…¨å±€å˜é‡1234567891011121314151617// æ–°å»ºä¸€ä¸ªå®ä¾‹å¯¹è±¡, æŠŠå…¼å®¹å‡½æ•°å®šä¹‰åˆ°$ä¸­, ä»¥ä¾¿ç»Ÿä¸€è°ƒç”¨let $ = new nobyda();// è¯»å–å…‘æ¢å•†å“å, é»˜è®¤å…‘æ¢ç§¯åˆ†å•†åŸä¸­çš„&quot;ç§¯åˆ†å…‘æ¢&quot;; è¯¥æ¥å£ä¸ºBoxJsé¢„ç•™, ä»¥ä¾¿ä¿®æ”¹let productName = $.read('BM_ProductName') || 'ç§¯åˆ†å…‘æ¢';// è¯»å–å…‘æ¢æ•°é‡, é»˜è®¤å…‘æ¢æœ€å¤§å€¼; è¯¥æ¥å£ä¸ºBoxJsé¢„ç•™, ä»¥ä¾¿ä¿®æ”¹let productNum = $.read('BM_ProductNum');// è¯»å–å¾ªç¯æŠ¢è´­æ¬¡æ•°, é»˜è®¤100æ¬¡; è¯¥æ¥å£ä¸ºBoxJsé¢„ç•™, ä»¥ä¾¿ä¿®æ”¹let exchangeNum = $.read('BM_ExchangeNum') || '100';// è¯»å–å“”å“©å“”å“©æ¼«ç”»ç­¾åˆ°è„šæœ¬æ‰€ä½¿ç”¨çš„Cookielet cookie = $.read('CookieBM');// é¢„ç•™çš„ç©ºå¯¹è±¡, ä¾¿äºå‡½æ•°ä¹‹é—´è¯»å–æ•°æ®let user = {}; æŸ¥è¯¢ç§¯åˆ†è„šæœ¬å¼€å§‹æ—¶é¦–å…ˆè¦åšçš„æ˜¯æŸ¥è¯¢è´¦å·é‡Œçš„ç§¯åˆ†æ˜¯å¦ç¬¦åˆå…‘æ¢è¦æ±‚. è¯¥å‡½æ•°è°ƒç”¨æ—¶, å°†æ‰§è¡ŒæŸ¥è¯¢ç§¯åˆ†, å¦‚æœæŸ¥è¯¢ç”¨æˆ·ç§¯åˆ†æˆåŠŸ, åˆ™å°†æŸ¥è¯¢åˆ°çš„ç§¯åˆ†èµ‹å€¼åˆ°å…¨å±€å˜é‡ä¸­, ä¾›å…¶ä»–å‡½æ•°è¯»å–. æŸ¥è¯¢ç§¯åˆ†å‡½æ•°1234567891011121314151617181920212223242526272829function GetUserPoint() { const pointUrl = { //æŸ¥è¯¢ç§¯åˆ†æ¥å£ url: 'https://manga.bilibili.com/twirp/pointshop.v1.Pointshop/GetUserPoint', headers: { //è¯·æ±‚å¤´ 'Cookie': cookie //ç”¨æˆ·é‰´æƒCookie } } return new Promise((resolve) =&gt; { //ä¸»å‡½æ•°è¿”å›Promiseå®ä¾‹å¯¹è±¡, ä»¥ä¾¿åç»­è°ƒç”¨æ—¶å¯ä»¥å®ç°é¡ºåºæ‰§è¡Œå¼‚æ­¥å‡½æ•° $.post(pointUrl, (error, resp, data) =&gt; { //ä½¿ç”¨postè¯·æ±‚æŸ¥è¯¢, å†ä½¿ç”¨å›è°ƒå‡½æ•°å¤„ç†è¿”å›çš„ç»“æœ try { //ä½¿ç”¨tryæ–¹æ³•æ•è·å¯èƒ½å‡ºç°çš„ä»£ç å¼‚å¸¸ if (error) { throw new Error(error); //å¦‚æœè¯·æ±‚å¤±è´¥, ä¾‹å¦‚æ— æ³•è”ç½‘, åˆ™æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ } else { const body = JSON.parse(data); //è§£æå“åº”ä½“jsonå¹¶è½¬åŒ–ä¸ºå¯¹è±¡ if (body.code == 0 &amp;&amp; body.data) { //å¦‚æœå“åº”ä½“ä¸ºé¢„æœŸæ ¼å¼ user.point = parseInt(body.data.point); //æŠŠæŸ¥è¯¢çš„ç§¯åˆ†èµ‹å€¼åˆ°å…¨å±€å˜é‡userä¸­ console.log(`\\nå½“å‰ç§¯åˆ†: ${body.data.point}`); //æ‰“å°æ—¥å¿— } else { //å¦åˆ™æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ throw new Error(body.msg || data); } } } catch (e) { //æ¥ä½tryä»£ç å—ä¸­æŠ›å‡ºçš„å¼‚å¸¸, å¹¶æ‰“å°æ—¥å¿— console.log(`\\næŸ¥è¯¢ç§¯åˆ†: å¤±è´¥\\nå‡ºç°é”™è¯¯: ${e.message}`); } finally { //finallyè¯­å¥åœ¨tryå’Œcatchä¹‹åæ— è®ºæœ‰æ— å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ resolve(); //å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨, å°†Promiseå¯¹è±¡çš„çŠ¶æ€æ ‡è®°ä¸º&quot;æˆåŠŸ&quot;, è¡¨ç¤ºå·²å®ŒæˆæŸ¥è¯¢ç§¯åˆ† } }) })} æŸ¥è¯¢å•†å“æ ¹æ®å‰é¢çš„åˆ†æ, æˆ‘ä»¬å…‘æ¢å•†å“æ—¶éœ€è¦ç›¸åº”çš„å•†å“ID. è¯¥å‡½æ•°è°ƒç”¨æ—¶, å°†æ‰§è¡ŒæŸ¥è¯¢æ“ä½œ, å¹¶æ ¹æ®å…¨å±€å˜é‡æ‰€å®šä¹‰çš„å•†å“åè¿›è¡Œè¿‡æ»¤, è¿‡æ»¤åçš„å†…å®¹ä»…åŒ…å«ç›¸å…³å•†å“çš„åŸºæœ¬ä¿¡æ¯, ä¾‹å¦‚å•†å“IDã€å…‘æ¢ä»·æ ¼ã€åº“å­˜ç­‰, å†æŠŠè¿‡æ»¤åçš„å†…å®¹èµ‹å€¼åˆ°å…¨å±€å˜é‡ä¸­, ä¾›å…¶ä»–å‡½æ•°è¯»å–. æŸ¥è¯¢å•†å“å‡½æ•°1234567891011121314151617181920212223242526272829303132function ListProduct() { const listUrl = { //æŸ¥è¯¢å•†å“æ¥å£ url: 'https://manga.bilibili.com/twirp/pointshop.v1.Pointshop/ListProduct', headers: {} } return new Promise((resolve) =&gt; { //ä¸»å‡½æ•°è¿”å›Promiseå®ä¾‹å¯¹è±¡, ä»¥ä¾¿åç»­è°ƒç”¨æ—¶å¯ä»¥å®ç°é¡ºåºæ‰§è¡Œå¼‚æ­¥å‡½æ•° $.post(listUrl, (error, resp, data) =&gt; { //ä½¿ç”¨postè¯·æ±‚æŸ¥è¯¢, å†ä½¿ç”¨å›è°ƒå‡½æ•°å¤„ç†è¿”å›çš„ç»“æœ try { //ä½¿ç”¨tryæ–¹æ³•æ•è·å¯èƒ½å‡ºç°çš„ä»£ç å¼‚å¸¸ if (error) { throw new Error(error); //å¦‚æœè¯·æ±‚å¤±è´¥, ä¾‹å¦‚æ— æ³•è”ç½‘, åˆ™æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ } else { const body = JSON.parse(data); //è§£æå“åº”ä½“jsonå¹¶è½¬åŒ–ä¸ºå¯¹è±¡ if (body.code == 0 &amp;&amp; body.data.length &gt;= 1) { //å¦‚æœæ¥å£æ­£å¸¸è¿”å›å•†å“ä¿¡æ¯ // æŒ‰å…¨å±€å˜é‡æ‰€å¡«å†™çš„å•†å“åè¿›è¡Œè¿‡æ»¤, å¹¶æŠŠå•†å“ä¿¡æ¯èµ‹å€¼åˆ°å…¨å±€å˜é‡userä¸­ user.list = body.data.filter(t =&gt; t.title == productName).pop(); if (!user.list) { throw new Error('è¯·æ£€æŸ¥å•†å“å'); //å¦‚æœå¡«é”™å•†å“ååˆ™æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ } else { //å¦åˆ™æ‰“å°æ—¥å¿— console.log(`\\næŸ¥è¯¢å•†å“: ${productName}\\nå•†å“åº“å­˜: ${user.list.remain_amount}`) } } else { //å¦åˆ™æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ throw new Error('æ— å•†å“åˆ—è¡¨'); } } } catch (e) { //æ¥ä½tryä»£ç å—ä¸­æŠ›å‡ºçš„å¼‚å¸¸å¹¶æ‰“å°æ—¥å¿— console.log(`\\næŸ¥è¯¢å•†å“: ${productName}\\nå‡ºç°é”™è¯¯: ${e.message}`); } finally { //finallyè¯­å¥åœ¨tryå’Œcatchä¹‹åæ— è®ºæœ‰æ— å¼‚å¸¸éƒ½ä¼šæ‰§è¡Œ resolve(); //å¼‚æ­¥æ“ä½œæˆåŠŸæ—¶è°ƒç”¨, å°†Promiseå¯¹è±¡çš„çŠ¶æ€æ ‡è®°ä¸º&quot;æˆåŠŸ&quot;, è¡¨ç¤ºå·²å®ŒæˆæŸ¥è¯¢å•†å“ } }) })} å…‘æ¢å•†å“å…‘æ¢å•†å“åˆ†ä¸ºä¸¤ä¸ªå‡½æ•°, ç¬¬ä¸€ä¸ªå‡½æ•°è°ƒç”¨å, å°†æ ¹æ®å‰é¢æŸ¥è¯¢åˆ°çš„æ•°æ®è¿›è¡Œåˆ¤æ–­, å¦‚æœå•†å“æœ‰åº“å­˜å¹¶ä¸”ç”¨æˆ·ç§¯åˆ†å¤§äº100, åˆ™æ ¹æ®å…¨å±€å˜é‡æ‰€å®šä¹‰çš„å¾ªç¯æ¬¡æ•°, æš´åŠ›è°ƒç”¨ç¬¬äºŒä¸ªâ€è¯·æ±‚â€å‡½æ•° (é»˜è®¤å¾ªç¯100æ¬¡) å…‘æ¢å•†å“å‡½æ•°12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455function ExchangeProduct() { return new Promise(async (resolve) =&gt; { //ä¸»å‡½æ•°è¿”å›Promiseå®ä¾‹å¯¹è±¡, ä»¥ä¾¿åç»­è°ƒç”¨æ—¶å¯ä»¥å®ç°é¡ºåºæ‰§è¡Œå¼‚æ­¥å‡½æ•°, è¯¥å®ä¾‹å‡½æ•°å¸¦æœ‰asyncå…³é”®å­—, è¡¨ç¤ºé‡Œé¢æœ‰å¼‚æ­¥æ“ä½œ, ä¾‹å¦‚å¯ä½¿ç”¨awaitå¾—åˆ°å¼‚æ­¥ç»“æœ if (user.list &amp;&amp; user.list.remain_amount &amp;&amp; user.point &gt;= 100) { //å¦‚æœå•†å“æœ‰åº“å­˜å¹¶ä¸”ç”¨æˆ·ç§¯åˆ†å¤§äº100åˆ™è¿›è¡ŒæŠ¢è´­ //å…‘æ¢å•†å“æ•°é‡(ç”¨æˆ·ç§¯åˆ† é™¤ä¸ å•†å“å•ä»·å¾—åˆ°å…‘æ¢æ•°é‡), å¹¶è½¬æˆæ•´æ•°; é»˜è®¤å…‘æ¢æœ€å¤§æ•°é‡ const num = parseInt(productNum || (user.point / user.list.real_cost)); const exchangeUrl = { url: 'https://manga.bilibili.com/twirp/pointshop.v1.Pointshop/Exchange', //å…‘æ¢å•†å“æ¥å£ headers: { //è¯·æ±‚å¤´ 'Content-Type': 'application/json', //å£°æ˜è¯·æ±‚ä½“æ•°æ®æ ¼å¼ 'Cookie': cookie //ç”¨æˆ·é‰´æƒCookie }, body: JSON.stringify({ //è¯·æ±‚ä½“è½¬æˆå­—ç¬¦ä¸²ç±»å‹ product_id: user.list.id, //å…‘æ¢çš„å•†å“id product_num: num, //å…‘æ¢çš„å•†å“æ•°é‡ point: num * user.list.real_cost //æ¶ˆè€—çš„ç§¯åˆ†æ€»æ•° (å…‘æ¢æ•°é‡ä¹˜å•ä»·å¾—åˆ°ç§¯åˆ†æ€»æ•°) }) }; for (let i = 0; i &lt; parseInt(exchangeNum); i++) { //æ ¹æ®å…¨å±€å˜é‡å®šä¹‰çš„æ¬¡æ•°, æš´åŠ›å¾ªç¯æŠ¢è´­ // å¾ªç¯å†…è°ƒç”¨å¦ä¸€ä¸ªæŠ¢è´­å‡½æ•°, å¹¶ä¼ å…¥è¯·æ±‚ã€ç¬¬å‡ æ¬¡å¾ªç¯ã€å…‘æ¢æ•°é‡ç­‰å‚æ•°, // ä½¿ç”¨awaitå…³é”®å­—å£°æ˜, è¡¨ç¤ºéœ€è¦ç­‰å¾…æ¯ä¸€æ¬¡çš„æ‰§è¡Œç»“æœ const run = await startExchange(exchangeUrl, i, num); if (run) { break; //å¦‚æœå‡½æ•°è¿”å›å¸ƒå°”å€¼true, åˆ™è·³å‡ºå¾ªç¯, è„šæœ¬ç»“æŸ } } } else { //å•†å“æ— åº“å­˜æˆ–ç”¨æˆ·ç§¯åˆ†å°äº100ç­‰æƒ…å†µ, åˆ™ä¸æ‰§è¡ŒæŠ¢è´­, è„šæœ¬ç»“æŸ console.log(`\\næŠ¢è´­ç»ˆæ­¢: ä¸å…·å¤‡å…‘æ¢æ¡ä»¶`); //æ‰“å°æ—¥å¿— } resolve(); //å°†ä¸»å‡½æ•°çš„Promiseå¯¹è±¡çŠ¶æ€æ ‡è®°ä¸º&quot;æˆåŠŸ&quot;, è¡¨ç¤ºå·²å®ŒæˆæŠ¢è´­ä»»åŠ¡ })}function startExchange(url, item, amount) { return new Promise((resolve) =&gt; { //ä¸»å‡½æ•°è¿”å›Promiseå®ä¾‹å¯¹è±¡, ä»¥ä¾¿åç»­è°ƒç”¨æ—¶å¯ä»¥å®ç°é¡ºåºæ‰§è¡Œå¼‚æ­¥å‡½æ•° $.post(url, (error, resp, data) =&gt; { //ä½¿ç”¨postè¯·æ±‚æŸ¥è¯¢, å†ä½¿ç”¨å›è°ƒå‡½æ•°å¤„ç†è¿”å›çš„ç»“æœ try { //ä½¿ç”¨tryæ–¹æ³•æ•è·å¯èƒ½å‡ºç°çš„ä»£ç å¼‚å¸¸ if (error) { throw new Error(error); //å¦‚æœè¯·æ±‚å¤±è´¥, ä¾‹å¦‚æ— æ³•è”ç½‘, åˆ™æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ } else { const body = JSON.parse(data); //è§£æå“åº”ä½“jsonå¹¶è½¬åŒ–ä¸ºå¯¹è±¡ if (body.code == 0) { //å¦‚æœæŠ¢è´­æˆåŠŸ, åˆ™è¾“å‡ºæ—¥å¿—å’Œé€šçŸ¥ console.log(`\\næŠ¢è´­æˆåŠŸ: ç¬¬${item+1}æ¬¡\\næŠ¢è´­æ•°é‡: ${amount}\\næ¶ˆè€—ç§¯åˆ†: ${amount * user.list.real_cost}`); $.notify('å“”å“©å“”å“©æ¼«ç”»æŠ¢åˆ¸', '', `&quot;${productName}&quot;æŠ¢è´­æˆåŠŸ, æ•°é‡: ${amount}, æ¶ˆè€—ç§¯åˆ†: ${amount * user.list.real_cost}`); resolve(true); //å°†Promiseå¯¹è±¡çš„çŠ¶æ€æ ‡è®°ä¸º&quot;æˆåŠŸ&quot;, ç„¶åè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼trueç”¨äºè·³å‡ºå¾ªç¯ } else { throw new Error(body.msg || 'æœªçŸ¥'); //æŠ¢è´­å¤±è´¥åˆ™æŠ›å‡ºå¼‚å¸¸ } } } catch (e) { //æ¥ä½tryä»£ç å—ä¸­æŠ›å‡ºçš„å¼‚å¸¸å¹¶æ‰“å°æ—¥å¿— console.log(`\\næŠ¢è´­å¤±è´¥: ç¬¬${item+1}æ¬¡\\nå¤±è´¥åŸå› : ${e.message}`); resolve(); //å°†Promiseå¯¹è±¡çš„çŠ¶æ€æ ‡è®°ä¸º&quot;æˆåŠŸ&quot;, ä½†ä¸è¿”å›ä»»ä½•å€¼, è¡¨ç¤ºç»§ç»­å¾ªç¯æŠ¢è´­ } }) })} ç»Ÿä¸€è°ƒç”¨å†™å¥½å‡½æ•°å, å¦‚æœä¸è¿›è¡Œè°ƒç”¨, é‚£ä¹ˆä»£ç æ˜¯æ— æ³•è¢«è¿è¡Œçš„. åœ¨javascriptä¸­, ä»£ç çš„æ‰§è¡Œé¡ºåºå¾ˆé‡è¦, æˆ‘ä»¬çš„éœ€æ±‚æ˜¯å…ˆåŒæ—¶æŸ¥è¯¢ç§¯åˆ†å’Œå•†å“, å†æŠ¢è´­, æœ€åé€€å‡ºè„šæœ¬. ä»¥ä¸‹åŒ¿åå‡½æ•°å°†æŒ‰æˆ‘ä»¬é¢„æœŸçš„é¡ºåºæ‰§è¡Œ. åŒ¿åå¼‚æ­¥å‡½æ•°123456789(async function() { // ç«‹å³è¿è¡Œçš„åŒ¿åå¼‚æ­¥å‡½æ•° // ä½¿ç”¨awaitå…³é”®å­—å£°æ˜, è¡¨ç¤ºä»¥åŒæ­¥æ–¹å¼æ‰§è¡Œå¼‚æ­¥å‡½æ•°, å¯ä»¥ç®€å•ç†è§£ä¸ºé¡ºåºæ‰§è¡Œ await Promise.all([ //è¯¥æ–¹æ³•ç”¨äºå°†å¤šä¸ªå®ä¾‹åŒ…è£…æˆä¸€ä¸ªæ–°çš„å®ä¾‹, å¯ä»¥ç®€å•ç†è§£ä¸ºåŒæ—¶è°ƒç”¨å‡½æ•°, ä»¥è¿›ä¸€æ­¥æé«˜æ‰§è¡Œé€Ÿåº¦ GetUserPoint(), //æŸ¥è¯¢ç§¯åˆ†å‡½æ•° ListProduct() //æŸ¥è¯¢å•†å“å‡½æ•° ]); await ExchangeProduct(); //ä¸Šé¢çš„æŸ¥è¯¢éƒ½å®Œæˆå, åˆ™æ‰§è¡ŒæŠ¢è´­ $.done(); //æŠ¢è´­å®Œæˆåè°ƒç”¨Surgeã€QXå†…éƒ¨ç‰¹æœ‰çš„å‡½æ•°, ç”¨äºé€€å‡ºè„šæœ¬æ‰§è¡Œ})(); ç¬¬å››æ­¥: é…ç½®ä»»åŠ¡æˆ‘ä»¬å†™å¥½è„šæœ¬å, å°±å¯ä»¥åœ¨Surgeæˆ–QuantumultXé‡Œé…ç½®å®šæ—¶ä»»åŠ¡è®©å®ƒåœ¨è§„å®šæ—¶é—´å†…æ‰§è¡Œè¯¥è„šæœ¬. ä»¥ä¸‹å°†ç”¨Surgeè¿›è¡Œæ¼”ç¤º ç¼–è¾‘Surgeé…ç½®æ–‡ä»¶, åœ¨[Script]æ®µè½æ”¾å…¥ä»¥ä¸‹è„šæœ¬ 1å“”å“©å“”å“©æ¼«ç”»æŠ¢åˆ¸ = type=cron,cronexp=&quot;10,20,30 0 12 * * *&quot;,wake-system=1,timeout=60,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Bilibili-DailyBonus/ExchangePoints.js å› ä¸ºç§¯åˆ†å•†åŸåˆ·æ–°æ—¶é—´åœ¨æ¯å¤©ä¸­åˆ12ç‚¹, åˆ™ä»¥ä¸Šé…ç½®å°†åœ¨æ¯å¤©ä¸­åˆ12:00:10ã€12:00:20ã€12:00:30åˆ†åˆ«æ‰§è¡Œä¸€æ¬¡. æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„ è„šæœ¬æŠ¢è´­å®Œæˆåæ³¨æ„ç¦ç”¨, é¿å…æ¯å¤©æ— æ„ä¹‰çš„è¿è¡Œ è„šæœ¬éœ€è¦ä½¿ç”¨å“”å“©å“”å“©ç­¾åˆ°è„šæœ¬è·å–Cookieåæ–¹å¯ä½¿ç”¨. é»˜è®¤å…‘æ¢ç§¯åˆ†å•†åŸä¸­çš„ â€œç§¯åˆ†å…‘æ¢â€; å¯è‡ªè¡Œä¿®æ”¹. å…‘æ¢æ•°é‡ä¸ºç”¨æˆ·ç§¯åˆ†å¯å…‘æ¢çš„æœ€å¤§å€¼; å¯è‡ªè¡Œä¿®æ”¹. ç»“è¯­æœ¬æ–‡åˆæ˜¯ä¸€ç¯‡ä¸“ä¸šæ€§æå¼ºçš„æ–‡ç« , æœ‰çš„åŒå­¦å¯èƒ½åˆè¦å¤´å¤§äº†; å†™è¿™ç¯‡æ–‡ç« åŠ¨æœºä¸»è¦æ˜¯ä¸ºäº†è®©è¯»è€…äº†è§£ä¸€ä¸ªéœ€æ±‚çš„å®ç°è¿‡ç¨‹, è„šæœ¬é‡Œä¹Ÿæœ‰å¤§é‡æ³¨é‡Šä¾›è¯»è€…ç†è§£æ€è·¯. è¿™ä¸ªéœ€æ±‚è¯´éš¾ä¹Ÿä¸å¤ªéš¾, å°±æ˜¯æŠ“å‡ ä¸ªæ¥å£å»æ¨¡æ‹Ÿç”¨æˆ·å…‘æ¢çš„è¡Œä¸º. å½“ç„¶è¿˜æ˜¯éœ€è¦æœ‰ä¸€å®šçš„æŠ“åŒ…ç»éªŒå’ŒjavascriptåŠŸåº•æ‰è¡Œ; æˆ‘çš„javascriptåŠŸåº•ä¹Ÿå°±å‹‰å‹‰å¼ºå¼ºå¤Ÿæˆ‘å†™å‡ ä¸ªç®€å•éœ€æ±‚. è™½ç„¶æœ¬æ–‡çœ‹èµ·æ¥æ¯”è¾ƒæ°´, ä½†è¿˜æ˜¯å»ºè®®åˆå­¦è€…ç…§ç€æœ¬æ–‡å»ç†è§£æŠ“åŒ…æ€è·¯, ä»¥åŠè„šæœ¬çš„æ‰§è¡Œé€»è¾‘. æœ€å, æå‰ç¥å¤§å®¶å‘¨æœ«æ„‰å¿«!","link":"/2021/07/16/BilibiliManga_Js_example/"},{"title":"é€‚ç”¨äºSurge &amp; QuantumultXçš„ä¸€æ¬¡æ€§å¯†ç ç”Ÿæˆè„šæœ¬ (TOTP)","text":"TOTPå…¨ç§°ä¸º â€œåŸºäºæ—¶é—´çš„ä¸€æ¬¡æ€§å¯†ç â€ï¼Œåˆç§°ä¸¤æ­¥éªŒè¯ã€åŒå› ç´ è®¤è¯ï¼› æœ¬æ–‡å°†ç®€å•ä»‹ç»å¦‚ä½•åœ¨Surgeæˆ–QuantumultXç­‰åŸç”ŸJavaScriptç¯å¢ƒé‡Œå®ç°è·å–TOTP 6ä½æ•°ä¸€æ¬¡æ€§å¯†ç ã€‚ ä¸€æ¬¡æ€§å¯†ç ä¹Ÿç§°ä¸ºåŠ¨æ€å£ä»¤ï¼Œé€šå¸¸ç”¨åœ¨webåº”ç”¨æˆ–è€…å…¶ä»–ç™»å½•ç³»ç»Ÿä¸­ï¼Œæ˜¯å¢å¼ºé™æ€å¯†ç çš„ä¸€ç§éå¸¸æ–¹ä¾¿çš„æŠ€æœ¯æ‰‹æ®µã€‚ åŸç†TOTPçš„åŸºæœ¬è®¤è¯åŸç†ç®€å•æ¦‚æ‹¬ï¼š å®¢æˆ·ç«¯/æœåŠ¡ç«¯ä½¿ç”¨å¯†ç æŠ€æœ¯ç”Ÿæˆå¯†é’¥ååŒæ–¹å…±äº«è¯¥å¯†é’¥ï¼Œä¹‹åéœ€è¦éªŒè¯æ—¶ä½¿ç”¨åŒä¸€ä¸ªå¯†é’¥å¯¹å½“å‰æ—¶é—´è¿›è¡Œå¯†ç ç®—æ³•è®¡ç®—ï¼Œå†æ¯”è¾ƒè®¡ç®—å€¼æ˜¯å¦ä¸€è‡´è¿›è¡Œè®¤è¯ï¼› è®¡ç®—åç”Ÿæˆçš„åŠ¨æ€å£ä»¤é€šå¸¸30ç§’å¤±æ•ˆï¼Œå£ä»¤é•¿åº¦é€šå¸¸ä¸º6ä½æ•°å­—ï¼›è®¤è¯æ—¶çš„å”¯ä¸€è¦æ±‚æ˜¯å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯èƒ½å¤Ÿååˆ†ç²¾ç¡®çš„ä¿æŒæ­£ç¡®çš„æ—¶é’Ÿï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è®¡ç®—çš„åŠ¨æ€å£ä»¤æ‰èƒ½ä¸€è‡´ã€‚ å®ç°å› ä¸ºä¸Šä¸€ç¯‡æ–‡ç« æ‰€æ¼”ç¤ºçš„ â€œå·´å“ˆå§†ç‰¹ç­¾åˆ°è„šæœ¬â€ ä¸­ï¼Œéƒ¨åˆ†ç”¨æˆ·åæ˜ å¦‚æœè´¦å·è®¾ç½®ä¸¤æ­¥éªŒè¯åè„šæœ¬å°†æ— æ³•ç™»å½•ï¼› æ‰€ä»¥æŠ½æ—¶é—´é€‚é…äº†ä¸€ä¸ªæ”¯æŒåœ¨ä»»ä½•Javascriptç¯å¢ƒä¸­éƒ½å¯ç”¨çš„TOTPç®—æ³•å‡½æ•°ã€‚ è¯¥å‡½æ•°å·²å¼€æºï¼Œé¡¹ç›®åœ°å€ï¼šTime-based-One-Time-Password ç¤ºä¾‹TOTP.min.js123456const key = 'YOURCLIENTTOKEN'; //TOTPå¯†é’¥const totp = TOTP(key); //è¿”å›å…­ä½æ•°ä¸€æ¬¡æ€§å£ä»¤ã€‚console.log(totp); //æ‰“å°æ—¥å¿—function TOTP(token){function t(e,a,d){var g=0,c=[],b=0,f,k,l,h,m,w,n,y,p=!1,q=[],t=[],v,u=!1;d=d||{};f=d.encoding||&quot;UTF8&quot;;v=d.numRounds||1;l=z(a,f);if(v!==parseInt(v,10)||1&gt;v)throw Error(&quot;numRounds must a integer &gt;= 1&quot;);if(&quot;SHA-1&quot;===e)m=512,w=A,n=H,h=160,y=function(a){return a.slice()};else throw Error(&quot;Chosen SHA variant is not supported&quot;);k=x(e);this.setHMACKey=function(a,b,c){var d;if(!0===p)throw Error(&quot;HMAC key already set&quot;);if(!0===u)throw Error(&quot;Cannot set HMAC key after calling update&quot;);f=(c||{}).encoding||&quot;UTF8&quot;;b=z(b,f)(a);a=b.binLen;b=b.value;d=m&gt;&gt;&gt;3;c=d/4-1;if(d&lt;a/8){for(b=n(b,a,0,x(e),h);b.length&lt;=c;)b.push(0);b[c]&amp;=4294967040}else if(d&gt;a/8){for(;b.length&lt;=c;)b.push(0);b[c]&amp;=4294967040}for(a=0;a&lt;=c;a+=1)q[a]=b[a]^909522486,t[a]=b[a]^1549556828;k=w(q,k);g=m;p=!0};this.update=function(a){var d,e,f,h=0,n=m&gt;&gt;&gt;5;d=l(a,c,b);a=d.binLen;e=d.value;d=a&gt;&gt;&gt;5;for(f=0;f&lt;d;f+=n)h+m&lt;=a&amp;&amp;(k=w(e.slice(f,f+n),k),h+=m);g+=h;c=e.slice(h&gt;&gt;&gt;5);b=a%m;u=!0};this.getHash=function(a,d){var f,l,m,r;if(!0===p)throw Error(&quot;Cannot call getHash after setting HMAC key&quot;);m=B(d);switch(a){case&quot;HEX&quot;:f=function(a){return C(a,h,m)};break;case&quot;B64&quot;:f=function(a){return D(a,h,m)};break;case&quot;BYTES&quot;:f=function(a){return E(a,h)};break;case&quot;ARRAYBUFFER&quot;:try{l=new ArrayBuffer(0)}catch(I){throw Error(&quot;ARRAYBUFFER not supported by this environment&quot;);}f=function(a){return F(a,h)};break;default:throw Error(&quot;format must be HEX, B64, BYTES, or ARRAYBUFFER&quot;);}r=n(c.slice(),b,g,y(k),h);for(l=1;l&lt;v;l+=1)r=n(r,h,0,x(e),h);return f(r)};this.getHMAC=function(a,d){var f,l,q,r;if(!1===p)throw Error(&quot;Cannot call getHMAC without first setting HMAC key&quot;);q=B(d);switch(a){case&quot;HEX&quot;:f=function(a){return C(a,h,q)};break;case&quot;B64&quot;:f=function(a){return D(a,h,q)};break;case&quot;BYTES&quot;:f=function(a){return E(a,h)};break;case&quot;ARRAYBUFFER&quot;:try{f=new ArrayBuffer(0)}catch(I){throw Error(&quot;ARRAYBUFFER not supported by this environment&quot;);}f=function(a){return F(a,h)};break;default:throw Error(&quot;outputFormat must be HEX, B64, BYTES, or ARRAYBUFFER&quot;);}l=n(c.slice(),b,g,y(k),h);r=w(t,x(e));r=n(l,h,m,r,h);return f(r)}}function J(e,a,d){var g=e.length,c,b,f,k,l;a=a||[0];d=d||0;l=d&gt;&gt;&gt;3;if(0!==g%2)throw Error(&quot;String of HEX type must be in byte increments&quot;);for(c=0;c&lt;g;c+=2){b=parseInt(e.substr(c,2),16);if(isNaN(b))throw Error(&quot;String of HEX type contains invalid characters&quot;);k=(c&gt;&gt;&gt;1)+l;for(f=k&gt;&gt;&gt;2;a.length&lt;=f;)a.push(0);a[f]|=b&lt;&lt;8*(3-k%4)}return{value:a,binLen:4*g+d}}function K(e,a,d){var g=[],c,b,f,k,g=a||[0];d=d||0;b=d&gt;&gt;&gt;3;for(c=0;c&lt;e.length;c+=1)a=e.charCodeAt(c),k=c+b,f=k&gt;&gt;&gt;2,g.length&lt;=f&amp;&amp;g.push(0),g[f]|=a&lt;&lt;8*(3-k%4);return{value:g,binLen:8*e.length+d}}function L(e,a,d){var g=[],c=0,b,f,k,l,h,m,g=a||[0];d=d||0;a=d&gt;&gt;&gt;3;if(-1===e.search(/^[a-zA-Z0-9=+\\/]+$/))throw Error(&quot;Invalid character in base-64 string&quot;);f=e.indexOf(&quot;=&quot;);e=e.replace(/\\=/g,&quot;&quot;);if(-1!==f&amp;&amp;f&lt;e.length)throw Error(&quot;Invalid '=' found in base-64 string&quot;);for(f=0;f&lt;e.length;f+=4){h=e.substr(f,4);for(k=l=0;k&lt;h.length;k+=1)b=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;.indexOf(h[k]),l|=b&lt;&lt;18-6*k;for(k=0;k&lt;h.length-1;k+=1){m=c+a;for(b=m&gt;&gt;&gt;2;g.length&lt;=b;)g.push(0);g[b]|=(l&gt;&gt;&gt;16-8*k&amp;255)&lt;&lt;8*(3-m%4);c+=1}}return{value:g,binLen:8*c+d}}function M(e,a,d){var g=[],c,b,f,g=a||[0];d=d||0;c=d&gt;&gt;&gt;3;for(a=0;a&lt;e.byteLength;a+=1)f=a+c,b=f&gt;&gt;&gt;2,g.length&lt;=b&amp;&amp;g.push(0),g[b]|=e[a]&lt;&lt;8*(3-f%4);return{value:g,binLen:8*e.byteLength+d}}function C(e,a,d){var g=&quot;&quot;;a/=8;var c,b;for(c=0;c&lt;a;c+=1)b=e[c&gt;&gt;&gt;2]&gt;&gt;&gt;8*(3-c%4),g+=&quot;0123456789abcdef&quot;.charAt(b&gt;&gt;&gt;4&amp;15)+&quot;0123456789abcdef&quot;.charAt(b&amp;15);return d.outputUpper?g.toUpperCase():g}function D(e,a,d){var g=&quot;&quot;,c=a/8,b,f,k;for(b=0;b&lt;c;b+=3)for(f=b+1&lt;c?e[b+1&gt;&gt;&gt;2]:0,k=b+2&lt;c?e[b+2&gt;&gt;&gt;2]:0,k=(e[b&gt;&gt;&gt;2]&gt;&gt;&gt;8*(3-b%4)&amp;255)&lt;&lt;16|(f&gt;&gt;&gt;8*(3-(b+1)%4)&amp;255)&lt;&lt;8|k&gt;&gt;&gt;8*(3-(b+2)%4)&amp;255,f=0;4&gt;f;f+=1)8*b+6*f&lt;=a?g+=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;.charAt(k&gt;&gt;&gt;6*(3-f)&amp;63):g+=d.b64Pad;return g}function E(e,a){var d=&quot;&quot;,g=a/8,c,b;for(c=0;c&lt;g;c+=1)b=e[c&gt;&gt;&gt;2]&gt;&gt;&gt;8*(3-c%4)&amp;255,d+=String.fromCharCode(b);return d}function F(e,a){var d=a/8,g,c=new ArrayBuffer(d);for(g=0;g&lt;d;g+=1)c[g]=e[g&gt;&gt;&gt;2]&gt;&gt;&gt;8*(3-g%4)&amp;255;return c}function B(e){var a={outputUpper:!1,b64Pad:&quot;=&quot;,shakeLen:-1};e=e||{};a.outputUpper=e.outputUpper||!1;!0===e.hasOwnProperty(&quot;b64Pad&quot;)&amp;&amp;(a.b64Pad=e.b64Pad);if(&quot;boolean&quot;!==typeof a.outputUpper)throw Error(&quot;Invalid outputUpper formatting option&quot;);if(&quot;string&quot;!==typeof a.b64Pad)throw Error(&quot;Invalid b64Pad formatting option&quot;);return a}function z(e,a){var d;switch(a){case&quot;UTF8&quot;:case&quot;UTF16BE&quot;:case&quot;UTF16LE&quot;:break;default:throw Error(&quot;encoding must be UTF8, UTF16BE, or UTF16LE&quot;);}switch(e){case&quot;HEX&quot;:d=J;break;case&quot;TEXT&quot;:d=function(d,c,b){var f=[],e=[],l=0,h,m,q,n,p,f=c||[0];c=b||0;q=c&gt;&gt;&gt;3;if(&quot;UTF8&quot;===a)for(h=0;h&lt;d.length;h+=1)for(b=d.charCodeAt(h),e=[],128&gt;b?e.push(b):2048&gt;b?(e.push(192|b&gt;&gt;&gt;6),e.push(128|b&amp;63)):55296&gt;b||57344&lt;=b?e.push(224|b&gt;&gt;&gt;12,128|b&gt;&gt;&gt;6&amp;63,128|b&amp;63):(h+=1,b=65536+((b&amp;1023)&lt;&lt;10|d.charCodeAt(h)&amp;1023),e.push(240|b&gt;&gt;&gt;18,128|b&gt;&gt;&gt;12&amp;63,128|b&gt;&gt;&gt;6&amp;63,128|b&amp;63)),m=0;m&lt;e.length;m+=1){p=l+q;for(n=p&gt;&gt;&gt;2;f.length&lt;=n;)f.push(0);f[n]|=e[m]&lt;&lt;8*(3-p%4);l+=1}else if(&quot;UTF16BE&quot;===a||&quot;UTF16LE&quot;===a)for(h=0;h&lt;d.length;h+=1){b=d.charCodeAt(h);&quot;UTF16LE&quot;===a&amp;&amp;(m=b&amp;255,b=m&lt;&lt;8|b&gt;&gt;&gt;8);p=l+q;for(n=p&gt;&gt;&gt;2;f.length&lt;=n;)f.push(0);f[n]|=b&lt;&lt;8*(2-p%4);l+=2}return{value:f,binLen:8*l+c}};break;case&quot;B64&quot;:d=L;break;case&quot;BYTES&quot;:d=K;break;case&quot;ARRAYBUFFER&quot;:try{d=new ArrayBuffer(0)}catch(g){throw Error(&quot;ARRAYBUFFER not supported by this environment&quot;);}d=M;break;default:throw Error(&quot;format must be HEX, TEXT, B64, BYTES, or ARRAYBUFFER&quot;);}return d}function p(e,a){return e&lt;&lt;a|e&gt;&gt;&gt;32-a}function q(e,a){var d=(e&amp;65535)+(a&amp;65535);return((e&gt;&gt;&gt;16)+(a&gt;&gt;&gt;16)+(d&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16|d&amp;65535}function u(e,a,d,g,c){var b=(e&amp;65535)+(a&amp;65535)+(d&amp;65535)+(g&amp;65535)+(c&amp;65535);return((e&gt;&gt;&gt;16)+(a&gt;&gt;&gt;16)+(d&gt;&gt;&gt;16)+(g&gt;&gt;&gt;16)+(c&gt;&gt;&gt;16)+(b&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16|b&amp;65535}function x(e){var a=[];if(&quot;SHA-1&quot;===e)a=[1732584193,4023233417,2562383102,271733878,3285377520];else throw Error(&quot;No SHA variants supported&quot;);return a}function A(e,a){var d=[],g,c,b,f,k,l,h;g=a[0];c=a[1];b=a[2];f=a[3];k=a[4];for(h=0;80&gt;h;h+=1)d[h]=16&gt;h?e[h]:p(d[h-3]^d[h-8]^d[h-14]^d[h-16],1),l=20&gt;h?u(p(g,5),c&amp;b^~c&amp;f,k,1518500249,d[h]):40&gt;h?u(p(g,5),c^b^f,k,1859775393,d[h]):60&gt;h?u(p(g,5),c&amp;b^c&amp;f^b&amp;f,k,2400959708,d[h]):u(p(g,5),c^b^f,k,3395469782,d[h]),k=f,f=b,b=p(c,30),c=g,g=l;a[0]=q(g,a[0]);a[1]=q(c,a[1]);a[2]=q(b,a[2]);a[3]=q(f,a[3]);a[4]=q(k,a[4]);return a}function H(e,a,d,g){var c;for(c=(a+65&gt;&gt;&gt;9&lt;&lt;4)+15;e.length&lt;=c;)e.push(0);e[a&gt;&gt;&gt;5]|=128&lt;&lt;24-a%32;a+=d;e[c]=a&amp;4294967295;e[c-1]=a/4294967296|0;a=e.length;for(c=0;c&lt;a;c+=16)g=A(e.slice(c,c+16),g);return g}function X(y){return(y&lt;15.5?'0':'')+Math.round(y).toString(16)}function V(b){var s=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ234567&quot;;var t=&quot;&quot;;var h=&quot;&quot;;for(var i=0;i&lt;b.length;i++){var val=s.indexOf(b.charAt(i).toUpperCase());t+=T(val.toString(2),5,'0')}for(var i=0;i+4&lt;=t.length;i+=4){var c=t.substr(i,4);h=h+parseInt(c,2).toString(16)}return h}function T(s,l,p){if(l+1&gt;=s.length){s=Array(l+1-s.length).join(p)+s}return s}return(function(s){var k=V(s);var e=Math.round(new Date().getTime()/1000.0);var r=T(X(Math.floor(e/30)),16,'0');var j=new t(&quot;SHA-1&quot;,&quot;HEX&quot;);j.setHMACKey(k,&quot;HEX&quot;);j.update(r);var h=j.getHMAC(&quot;HEX&quot;);var o=parseInt(h.substring(h.length-1),16);var p=(parseInt(h.substr(o*2,8),16)&amp;parseInt('7fffffff',16))+'';var z=p.substr(p.length-6,6);return z})(token)}; TOTPå‡½æ•°ç”Ÿæˆçš„ä¸€æ¬¡æ€§å¯†ç éµå¾ªRFC6238è§„èŒƒï¼Œå®Œå…¨ä½¿ç”¨åŸç”ŸJavascriptå®ç°ï¼Œå¯åœ¨ä»»ä½•Javascriptç¯å¢ƒä¸­ä½¿ç”¨ (ä¸ä¾èµ–ä»»ä½•æ¡†æ¶å’Œç±»åº“)ã€‚ è‡´è°¢è¯¥å‡½æ•°é­”æ”¹è‡³ https://jsfiddle.net/russau/rbyjk774 å¹¶ä½¿ç”¨äº†Brian Turekçš„jsSHAï¼Œåœ¨æ­¤è¡¨ç¤ºæ„Ÿè°¢ã€‚","link":"/2021/07/29/Javascript-TOTP-algorithm/"},{"title":"ä½¿ç”¨Surgeè§„åˆ™è„šæœ¬ã€å¿«æ·æŒ‡ä»¤è‡ªåŠ¨åŒ–ç”Ÿæˆä¸“å±è§„åˆ™é›†","text":"æœ¬æ–‡ä¸ºSurge APPè§„åˆ™ç³»ç»Ÿä¸­çš„é«˜çº§ä½¿ç”¨æ–¹æ³•ï¼Œæœ‰ä¸€å®šçš„ç†è§£éš¾åº¦ã€‚ ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰æƒ³è¿‡ï¼ŒGithub ä¸Šå¤§ä½¬ä»¬åˆ†äº«çš„å¤§å¤šéƒ½æ˜¯é€šç”¨è§„åˆ™é›†ï¼Œå¹¶ä¸ä¸€å®šé€‚åˆè‡ªå·±ï¼Œæ‰€ä»¥æœ‰æ—¶å€™å°±åœ¨æƒ³ï¼Œé™¤äº†ç‰¹å®šåº”ç”¨ç¨‹åºçš„è§„åˆ™ï¼Œå›½å†…åŸŸåå’Œå›½å¤–åŸŸåèƒ½ä¸èƒ½æŒ‰ç…§è‡ªå·±çš„ç½‘ç»œç¯å¢ƒè‡ªåŠ¨ç”Ÿæˆä¸€ä»½ä¸“å±è§„åˆ™ã€‚ æ€è·¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Surge çš„è„šæœ¬è§„åˆ™å®ç°ï¼Œç”±äº Surge æœ¬èº«æ— æ³•å†™å…¥æ–‡ä»¶åˆ°æœ¬åœ°ï¼Œä½†æˆ‘ä»¬å¯ä»¥å€ŸåŠ©ç³»ç»Ÿçš„è‡ªå¸¦çš„å¿«æ·æŒ‡ä»¤å†™å…¥ï¼Œæ‰€ä»¥æˆ‘ä»¬åŸºæœ¬çš„å®ç°æ€è·¯å¤§è‡´ä¸ºï¼š åŸŸåè¯·æ±‚å‘½ä¸­è„šæœ¬è§„åˆ™ è„šæœ¬è§„åˆ™ç¼“å­˜åŠ å·¥åçš„åŸŸå å¿«æ·æŒ‡ä»¤è¯»å–è„šæœ¬è§„åˆ™ç¼“å­˜å¹¶å†™å…¥è§„åˆ™é›†åˆ°æœ¬åœ° è„šæœ¬å®ç°è¯¥è„šæœ¬å·²ä¸Šä¼ è‡³ Github ä»“åº“ï¼Œé“¾æ¥ï¼š 1https://github.com/NobyDa/Script/blob/master/Rule-Storage/Rule-Storage.js å·¥ä½œæµç®€åŒ–åçš„è„šæœ¬æ ¸å¿ƒå·¥ä½œæµï¼š ä¸ºäº†é¿å…ç”Ÿæˆå¤ªå¤šæ— ç”¨è§„åˆ™ï¼Œè„šæœ¬ä¼šåˆ¤æ–­å¤šçº§åŸŸåå¹¶æœ‰ç›¸åº”çš„å¤„ç†ã€‚eTLD å³å…¬å…±åç¼€åˆ—è¡¨ï¼ŒæŒ‡çš„æ˜¯InternetåŸŸåç³»ç»Ÿä¸­çš„ä¸€éƒ¨åˆ†åŸŸåï¼Œè¿™éƒ¨åˆ†åŸŸååœ¨ eTLD åˆ—è¡¨ä¸­å®šä¹‰ã€‚ä¾‹å¦‚ä¸€ä¸ªåŸŸå www.abc.comï¼ŒeTLD åˆ—è¡¨å†…å°†åŒ…å« com è¿™ä¸ªé¡¶çº§åŸŸã€‚ è„šæœ¬è§„åˆ™å¯ä»¥å‚ç…§è¯¥ eTLD åˆ—è¡¨ç¼©å‡å¤šçº§åŸŸåå¹¶ç”ŸæˆåŸŸååç¼€è§„åˆ™ï¼ˆDOMAIN-SUFFIXï¼‰ï¼Œä½†äºŒçº§åŸŸåã€é eTLD åŸŸåã€å®Œæ•´ eTLD åŸŸååªä¼šç”ŸæˆåŸŸåè§„åˆ™ï¼ˆDOMAINï¼‰ é…ç½®è„šæœ¬é…ç½®æˆ‘çš„éœ€æ±‚æ˜¯ç”Ÿæˆå›½å†…åŸŸåå’Œå›½å¤–åŸŸåçš„è§„åˆ™é›†ï¼Œæˆ‘ä»¬é¦–å…ˆé…ç½® Surge è„šæœ¬ï¼Œåœ¨ Surge é…ç½®æ–‡ä»¶ä¸­çš„[Script]æ®µè½æ·»åŠ ä»¥ä¸‹è„šæœ¬ï¼Œå‚æ•°å¯ä»¥æŒ‰ç…§è¯´æ˜æŒ‰éœ€æ·»åŠ  123Save-Final-Rule = type=rule,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Rule-Storage/Rule-Storage.js,argument=region=globalSave-China-Rule = type=rule,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Rule-Storage/Rule-Storage.js,argument=region=china&amp;matched=1 å‚æ•°ç”±äºè„šæœ¬è®¾è®¡ä¹‹åˆè€ƒè™‘åˆ°è„šæœ¬å¤ç”¨é—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®å‚æ•°æ‰èƒ½æ­£ç¡®è¿è¡Œ åŒºåŸŸå‚æ•°ï¼šregionï¼Œè¯¥å‚æ•°ä¸ºå¿…é¡» åŒ¹é…å‚æ•°ï¼šmatchedï¼Œå³æŒ‡ç¤ºè„šæœ¬è§„åˆ™å®Œæˆåæ˜¯å¦åŒ¹é…æŒ‡å®šçš„ç­–ç•¥ï¼Œé»˜è®¤ä¸åŒ¹é…ï¼Œè¾“å…¥matched=1å³è¡¨ç¤ºåŒ¹é… é”®å€¼å‚æ•°ï¼škeyï¼ŒæŒä¹…åŒ–å‚¨å­˜æ‰€ä½¿ç”¨çš„é”®å€¼ï¼Œé»˜è®¤ä¸ºRule-Storageï¼Œä¸€èˆ¬ç”¨æˆ·æ— éœ€ç†ä¼š ç™½åå•å‚æ•°ï¼šwhitelistï¼ŒåŸŸååŒ¹é…ç™½åå•è§„åˆ™æ—¶ï¼Œè·³è¿‡ç”ŸæˆåŸŸååç¼€è§„åˆ™ï¼ˆDOMAIN-SUFFIXï¼‰ï¼Œè¯¥å‚æ•°ä»…æ¥å—æ•°ç»„ï¼Œä¾‹å¦‚whitelist=[&quot;.mwcname.com&quot;,&quot;.cdn.&quot;]ï¼Œè§„åˆ™æœ‰ä¸‰ç§å†™æ³•ï¼š åŸŸåï¼šexample.com åŸŸååç¼€ï¼š.example.com åŸŸåå…³é”®å­—ï¼š.example. æ•°é‡å‚æ•°ï¼šquantityï¼Œä¸€ä¸ªåŸŸåè¿è¡Œè„šæœ¬ç¬¬xæ¬¡æ‰ç”Ÿæˆè§„åˆ™ï¼Œé»˜è®¤ä¸º 10 æ¬¡ é—´éš”å‚æ•°ï¼šintervalï¼Œä¸€ä¸ªåŸŸåä¸¤æ¬¡è¿è¡Œè„šæœ¬çš„æ ‡è®°é—´éš”ï¼Œé»˜è®¤ä¸º 30 ç§’ é™¤äº†åŒºåŸŸå‚æ•°ä¸ºå¿…è¦ä¹‹å¤–ï¼Œå…¶ä»–å‚æ•°éƒ½æœ‰é»˜è®¤å€¼ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è„šæœ¬å†…å·²å†…ç½®äº†éƒ¨åˆ†è·³è¿‡ç”ŸæˆåŸŸååç¼€çš„ç™½åå•è§„åˆ™ï¼Œå¦‚æœç™½åå•å‚æ•°å­˜åœ¨ï¼Œå°†ä¼šè¢«å‚æ•°è¦†ç›–ã€‚ å¤šå‚æ•°ä½¿ç”¨ &amp; è¿æ¥ï¼Œä¾‹å¦‚ï¼š 1argument=region=global&amp;quantity=5&amp;interval=10 é…ç½®è§„åˆ™é…ç½®è¦ç”Ÿæˆå›½å†…å’Œå›½å¤–è§„åˆ™ï¼Œé‚£ä¹ˆè¿™ä¸ªè„šæœ¬è§„åˆ™å¿…é¡»æ”¾åœ¨FINALè§„åˆ™å‰ï¼Œè§„åˆ™çš„å…ˆåé¡ºåºéå¸¸é‡è¦ï¼Œç”±äºæ¯ä¸ªäººä½¿ç”¨çš„è§„åˆ™éƒ½æœ‰ç»†å¾®å·®åˆ«ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬å±•å¼€è®²è®²ã€‚ è§„åˆ™ç¤ºä¾‹ï¼š é…ç½®ç¤ºä¾‹ï¼š 12345RULE-SET,Rule/Foregn_Set.txt,ğŸŒ Foregn,no-resolve,extended-matchingRULE-SET,Rule/Domestic_Set.txt,ğŸ‡¨ğŸ‡³ Domestic,extended-matchingAND,((OR,((GEOIP,CN), (DOMAIN-SUFFIX,cn), (AND,((RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Rule-Storage/Include-Domain.txt), (SCRIPT,Save-Final-Rule))))), (OR,((NOT,((RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Rule-Storage/Include-Domain.txt))), (SCRIPT,Save-China-Rule)))),ğŸ‡¨ğŸ‡³ Domestic å…¶ä¸­ Foregn_Set.txt å’Œ Domestic_Set.txt ä¸ºå¿«æ·æŒ‡ä»¤è¯»å–è„šæœ¬è§„åˆ™ç¼“å­˜ç”Ÿæˆçš„æœ¬åœ°è§„åˆ™é›†æ–‡ä»¶ï¼Œç¨åæˆ‘ä»¬ä¼šè®²åˆ°ã€‚è§„åˆ™é¡ºåºä¸º å›½å†…è§„åˆ™é›†ï¼ˆç”Ÿæˆï¼‰ å›½å¤–è§„åˆ™é›†ï¼ˆç”Ÿæˆï¼‰ é€»è¾‘è§„åˆ™ï¼Œå†…å«è„šæœ¬è§„åˆ™ Surge çš„è§„åˆ™ç³»ç»Ÿåœ¨å‰é¢çš„è§„åˆ™åŒ¹é…åï¼Œåé¢çš„è§„åˆ™å°†ä¸ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥æˆ‘ä»¬ä»¥è¿™ä¸ªä¸ºåŸºç¡€å†™ä¸€ä¸ªé€»è¾‘è§„åˆ™ å·¥ä½œæµä»¥ä¸‹ä¸ºé…ç½®ç¤ºä¾‹ä¸­çš„é€»è¾‘è§„åˆ™å·¥ä½œæµï¼š ä¸ºäº†æ€§èƒ½è€ƒè™‘é¿å…IPåŸŸåç»è¿‡è„šæœ¬ï¼Œä»¥åŠå®ç°åŒºåŸŸåˆ¤å®šï¼Œæˆ‘ä»¬éœ€è¦å€ŸåŠ© GeoIP è§„åˆ™ã€åŸŸåå…³é”®å­—è§„åˆ™ã€é€»è¾‘è§„åˆ™äº’ç›¸é…åˆæ‰èƒ½å®Œæˆã€‚ é€»è¾‘è§„åˆ™ä¸­çš„å­è§„åˆ™å¯ä»¥æŒ‰éœ€ä¿®æ”¹ï¼Œæ¯”å¦‚å»æ‰DOMAIN-SUFFIX,cnè§„åˆ™ã€‚é€»è¾‘è§„åˆ™åŸºæœ¬æ¦‚å¿µå¯ä»¥åœ¨ Surge æ–‡æ¡£ä¸­æ‰¾åˆ° GEOIPå› ä¸ºåŒºåŸŸåˆ¤æ–­æ˜¯åŸºäºGEOIPæ•°æ®åº“ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä»½ç›¸å¯¹å‡†ç¡®çš„æ•°æ®åº“ï¼Œè¿™é‡Œæ¨èä½¿ç”¨è‡ªå·±å¦å¤–ä¸€ä¸ªé¡¹ç›®ï¼Œè‡ªç”¨äº†å‡ å¹´è¿˜ä¸é”™ã€‚ä»“åº“åœ°å€ï¼š 1https://github.com/NobyDa/geoip é…ç½®å¿«æ·æŒ‡ä»¤åŸŸåç»è¿‡é€»è¾‘è§„åˆ™å’Œè„šæœ¬ç”Ÿæˆç¼“å­˜è§„åˆ™åï¼Œæˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªå¿«æ·æŒ‡ä»¤æå– Surge ä¸­çš„ç¼“å­˜è§„åˆ™å¹¶å†™å…¥æ–‡ä»¶åˆ°æœ¬åœ°ã€‚ æˆ‘ä»¬éœ€è¦å…ˆé…ç½® Surge ä¸­è‡ªå¸¦çš„ HTTP API åŠŸèƒ½ï¼Œå¯ä»¥åœ¨Surge -&gt; æ›´å¤šè®¾ç½® -&gt; HTTP APIä¸­æ‰¾åˆ°ï¼Œè®¾ç½®ç«¯å£å’Œå¯†ç åï¼Œåœ¨å®‰è£…å¿«æ·æŒ‡ä»¤æ—¶å¡«å…¥å³å¯ã€‚ å¿«æ·æŒ‡ä»¤å®‰è£…é“¾æ¥ï¼š 1https://www.icloud.com/shortcuts/39c9a8720c9a49288ac1a2bf433da098 éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœæ²¡æœ‰å¼€å¯ Surge iCloud åŒæ­¥å°†æ— æ³•ä½¿ç”¨ï¼ˆç”Ÿæˆçš„è§„åˆ™é›†å‚¨å­˜åœ¨ iCloud çš„ Surge æ–‡ä»¶å¤¹ï¼‰ å¿«æ·æŒ‡ä»¤é»˜è®¤ä¼šæŠŠ Foregn_Set.txt å’Œ Domestic_Set.txt è§„åˆ™é›†å‚¨å­˜è‡³ Surge æ ¹ç›®å½•çš„ Rule æ–‡ä»¶å¤¹ï¼Œå¯ä»¥æ‰‹åŠ¨ç¼–è¾‘å¿«æ·æŒ‡ä»¤ä¿®æ”¹ China &amp; Globalè¯å…¸ã€‚ è¯å…¸å†…çš„Keyå³ä¸º Surge æŒä¹…åŒ–è§„åˆ™ç¼“å­˜çš„è¯»å–é”®å€¼ï¼ˆè„šæœ¬å†…ä¼šæ ¹æ®è„šæœ¬å‚æ•°çš„é”®å€¼å‚æ•°å’ŒåŒºåŸŸå‚æ•°è‡ªåŠ¨æ‹¼æ¥è¯»å–é”®å€¼ï¼Œè‡ªç”¨çš„æ˜¯Rule-Storage-chinaå’ŒRule-Storage-globalï¼‰ä¸€èˆ¬æ— éœ€ä¿®æ”¹ã€‚ è‡ªåŠ¨åŒ–ç”Ÿæˆè§„åˆ™åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¿«æ·æŒ‡ä»¤çš„è‡ªåŠ¨åŒ–è‡ªåŠ¨è¿è¡Œå¿«æ·æŒ‡ä»¤ï¼Œä¾‹å¦‚å¯ä»¥æ¯å¤©ç‰¹å®šæ—¶é—´æˆ–æ‰“å¼€ Surge æ—¶è¿è¡Œå¿«æ·æŒ‡ä»¤ï¼Œè¿™ç±»è‡ªåŠ¨åŒ–éƒ½å¯ä»¥å…³é—­è¿è¡Œå‰è¯¢é—®ã€‚æŒ‰è‡ªå·±çš„éœ€æ±‚è®¾ç½®å³å¯ã€‚ äº‹é¡¹è¿™ä¸ªè„šæœ¬çš„åˆè¡·æ˜¯ä¸ºäº†è§£å†³è§„åˆ™ç³»ç»Ÿçš„ DNS æŸ¥è¯¢é—®é¢˜ï¼Œç»å¸¸è®¿é—®çš„å›½å¤–åŸŸåå¯ä»¥åœ¨ FINAL è§„åˆ™ä¹‹å‰çœå»ä¸€æ¬¡ DNS æŸ¥è¯¢ä»¥è·å¾—æ›´å¥½çš„ä½“éªŒï¼Œè„šæœ¬ç»è¿‡å¤šæ¬¡è¿­ä»£ååŸºæœ¬å·²ç»æ²¡æœ‰å¤ªå¤§é—®é¢˜ã€‚ å¦‚æœæœ‰å°ä¼™ä¼´éœ€è¦ä½¿ç”¨æ–‡ç« ä¸­çš„è„šæœ¬è§„åˆ™ï¼Œè¯·åŠ¡å¿…æ³¨æ„è°ƒæ•´è‡ªå·±æ‰€ä½¿ç”¨çš„é€šç”¨è§„åˆ™ï¼Œä¾‹å¦‚é…ç½®ç”Ÿæˆçš„è§„åˆ™åéœ€è¦åˆ é™¤ä¹‹å‰æ‰€ä½¿ç”¨çš„é€šç”¨ China æˆ– Global è§„åˆ™é›†ï¼Œä¹Ÿéœ€è¦ç¦ç”¨IPç±»è§„åˆ™é›†ï¼Œæœ€ä¸»è¦çš„æ˜¯è§„åˆ™é¡ºåºï¼Œä¸€äº›ç»†èŠ‚é—®é¢˜ä¹Ÿè¦æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚æ‰€ä»¥åªå»ºè®®å¯¹ Surge å’Œè§„åˆ™æœ‰ä¸€å®šç†è§£ã€åŠ¨æ‰‹èƒ½åŠ›å¼ºçš„å°ä¼™ä¼´å»æŠ˜è…¾ã€‚ é—®é¢˜ ç”±äºæ˜¯è‡ªåŠ¨ç”Ÿæˆçš„è§„åˆ™ï¼Œæœ‰æ—¶å€™éœ€è¦æ‰‹åŠ¨è°ƒæ•´ç”Ÿæˆåçš„è§„åˆ™ï¼Œä¾‹å¦‚åˆ é™¤ä¸€äº›ä¸éœ€è¦è¢«ä»£ç†çš„åŸŸåã€‚ ç”±äºå›½å¤–è§„åˆ™é›†é¡ºåºåœ¨å‰ï¼Œæœ‰æ—¶å€™ä¼šæ··è¿›ä¸€äº›å›½å†…åŸŸåå¯¼è‡´åˆ†æµä¸ç¬¦åˆé¢„æœŸï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨å¦å¤–ä¸€ä¸ªå¿«æ·æŒ‡ä»¤ç§»é™¤å›½å¤–è§„åˆ™é›†é‡Œè·Ÿå›½å†…è§„åˆ™é›†é‡å¤çš„è§„åˆ™ã€‚ 1https://www.icloud.com/shortcuts/cf7e329cf84147ad90447cc7135b53e0 ç”±äºåˆšå¼€å§‹éœ€è¦ä½¿ç”¨ä¸€æ®µåæ‰ä¼šç”Ÿæˆè§„åˆ™ï¼Œå¦‚æœç¡®è®¤è¦ä½¿ç”¨ï¼Œæ¨èçŸ­æœŸå†…è°ƒæ•´ä¸€ä¸‹è„šæœ¬å‚æ•°çš„æ•°é‡å‚æ•°å’Œé—´éš”å‚æ•° ä»¥è¾¾åˆ°å¿«é€Ÿç”Ÿæˆè§„åˆ™çš„ç›®çš„ã€‚ åè®°è¯´èµ·æ¥ä¹Ÿå¥½ä¹…æ²¡æœ‰æ›´æ–°åšå®¢å’Œè„šæœ¬äº†ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºè£…æºç çš„ç¡¬ç›˜å‡ºäº†ç‚¹å°é—®é¢˜ï¼Œç´¢æ€§å°±æ”¾æŠ½å±‰åƒç°äº†ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿå¯èƒ½æ˜¯è‡ªå·±å¯¹è¿™ç±»APPç—›å¤±äº†å…´è¶£ï¼Œæ²¡æœ‰è¶³å¤Ÿçš„åŠ¨åŠ›å¯¹å¼€æºç¤¾åŒºåšå‡ºè´¡çŒ®ã€‚ äº‹æƒ…èµ·å› å¯èƒ½æ˜¯å› ä¸ºæœ‰ä¸€å¤©çªç„¶æ„è¯†åˆ°èµè®¸çš„å£°éŸ³è¶Šæ¥è¶Šå¤šï¼Œä»¥è‡´äºè‡ªå·±åœ¨ç½‘ç»œä¸ŠèŠ±çš„æ—¶é—´æ—¥ç›Šå¢å¤šï¼Œè¿›è€Œç–å¿½äº†ç°å®ç”Ÿæ´»ä¸­çš„ä¸€äº›äººå’Œäº‹ã€‚è¿™å¼•èµ·äº†æˆ‘å¯¹å½“ä¸‹ç”Ÿæ´»çš„ä¸€ç§æ·±åº¦æ€è€ƒã€‚ äººå˜›ï¼Œæ€»æ˜¯ä¼šé€‰æ‹©ä¸€ç§ç”Ÿæ´»æ–¹å¼æ¥æ„å»ºè‡ªå·±ç”Ÿæ´»çš„æ„ä¹‰ï¼Œæ¯ä¸ªå¹´é¾„æ®µçš„æ„ä¹‰éƒ½ä¼šä¸å°½ç›¸åŒã€‚ç¾å¥½ç”Ÿæ´»å°±æ˜¯è®©è‡ªå·±è¿‡ä¸Šå–œæ¬¢çš„æ—¥å­ï¼Œè¿™æ˜¯æˆ‘å¯¹ç¾å¥½ç”Ÿæ´»çš„å®šä¹‰ã€‚è¿™é¼“åŠ±äº†æˆ‘ï¼Œæ‰€ä»¥æˆ‘å¼€å§‹å‡å°‘èŠ±åœ¨ç½‘ç»œä¸Šçš„æ—¶é—´ï¼Œç»™ç”Ÿæ´»åšå‡æ³•ã€‚ æ—¶é—´æœç„¶è½¬ç¬å³é€ï¼Œåˆ°äº†2024åˆæ˜¯ä¸€ä¸ªæ–°çš„ç¯‡ç« ï¼Œä¹ŸæŒºä¹…æ²¡æœ‰æŠ˜è…¾ Surge è„šæœ¬äº†ï¼Œä¸ºæ­¤åˆ†äº«ç»™å¤§å®¶ä¸€ä¸ªè‡ªç”¨è„šæœ¬ã€‚ç”±äºæ˜¯æŒ‰ç…§è‡ªå·±éœ€æ±‚å†™çš„æ‰€ä»¥ä¸ä¸€å®šé€‚åˆå¤§ä¼—ï¼Œæœ‰ç±»ä¼¼éœ€æ±‚çš„å°ä¼™ä¼´å¯ä»¥å‚è€ƒæ–‡ç« çš„æ€è·¯çš„æ‰‹åŠ¨é…ç½®ä¸“å±è§„åˆ™ã€‚ ç”Ÿå‘½ä¸æ¯ï¼ŒæŠ˜è…¾ä¸æ­¢ã€‚ ä»¥ä¸Š","link":"/2024/02/24/Surge_Rule_Storage/"},{"title":"ä½¿ç”¨Surgeè„šæœ¬ &amp; é€»è¾‘è§„åˆ™å»ºç«‹è”ç½‘é˜²ç«å¢™","text":"å‰è¨€ æœ¬æ–‡ä»…å»ºè®®å¯¹Surge(iOS) APPæœ‰ä¸€å®šç†Ÿæ‚‰çš„ç”¨æˆ·é˜…è¯». å¦‚æ‚¨ä»æœªä½¿ç”¨è¿‡, åˆ™è¯¥æ–‡å¯èƒ½ä¸é€‚åˆæ‚¨. æœ¬æ–‡ä¸»è¦å†…å®¹ä¸º â€œæ‰‹æœºAPP(iOS) éšç§æ³„æ¼â€ é—®é¢˜ä»¥åŠè§£å†³æ–¹æ¡ˆ. æœ¬æ–‡å°†ä¼šè€—è´¹å¤§é‡ç¯‡å¹…è®²è§£Surgeè„šæœ¬æˆ–Surgeé€»è¾‘è§„åˆ™çš„è¿ç”¨ã€ç§‘æ™®ã€ å®ç°ã€ä»¥åŠåŸç†, å¹¶å»ºç«‹æ‰‹æœºç½‘ç»œé˜²ç«å¢™. èƒŒæ™¯æœ‰ä¸€ä¸ªè¯é¢˜å¼•èµ·äº†æˆ‘çš„å…³æ³¨, ä¸€äº›å›½å†…APP (iOS), å¦‚: Xä¿¡, XXå®, Xå›¢. ç”¨æˆ·å®‰è£…ä»¥ä¸ŠAPPå, æ‰‹æœºä»èœ‚çªç½‘ç»œåˆ‡æ¢è‡³WiFiçš„ä¸€ç¬é—´(åŒ…æ‹¬è‡ªåŠ¨è¿æ¥), ä»¥ä¸ŠAPPå¯èƒ½ä¼šåˆ©ç”¨iOSæŸä¸ªç³»ç»Ÿæ¥å£ç›´æ¥åå°å”¤é†’, å¹¶å‘æœåŠ¡å™¨ä¸Šä¼ ç½‘ç»œè¯·æ±‚, ç»è¿‡æŠ“åŒ…åå‘ç°, è¯¥ç±»è¯·æ±‚éƒ½éš¶å±äºä»¥ä¸ŠAPP (æŸ¥è¯¢ASNå¾—çŸ¥), å¹¶ä¸”éƒ½ç»è¿‡å¼ºåŠ å¯†, æ— æ³•å¾—çŸ¥ä¸Šä¼ å†…å®¹. ä»¥ä¸Šæƒ…å†µä¸ç®¡ç”¨æˆ·æ˜¯å¦å…³é—­åå°æˆ–å…³é—­åå°åˆ·æ–°, éƒ½æœ‰å¯èƒ½ä¼šè§¦å‘. å¦‚æœç”¨æˆ·æ‰‹åŠ¨æ‰“å¼€ç³»ç»Ÿè®¾ç½®æŸ¥çœ‹WiFiåˆ—è¡¨, ä¹Ÿå¯èƒ½ä¼šè§¦å‘ä»¥ä¸ŠAPPçš„æŸäº›è”ç½‘è¯·æ±‚. è¯¥ç±»ç½‘ç»œè¯·æ±‚å¯èƒ½ä¼šä¸Šä¼ : WiFiåç§° (SSID) å®šä½æ•°æ® æ¥å…¥æˆ–æ–­å¼€WiFiçš„æ—¶é—´ ä»¥ä¸ŠåŸºäºå¸¸è¯†æ¨æ–­; ç”±äºç¬”è€…éiOSå¼€å‘è€…, æ— æ³•å¾—çŸ¥APPåœ¨è¯¥æƒ…å†µä¸‹å…·æœ‰çš„æƒé™, ä¸å¯¹çš„è¿˜è¯·æŒ‡æ­£. ä¼ä¸šå¯¹è¯¥æ•°æ®å¯èƒ½ä¼š: å‡ºå”®æˆ–å…±äº«, å»ºç«‹å¤§æ•°æ® æ¨æ–­å‡ºä½ çš„ä½œæ¯è§„å¾‹, å‡ ç‚¹å‡ åˆ†ç¦»å¼€å®¶/åˆ°å…¬å¸, å¹¶å»ºç«‹ç”¨æˆ·ç”»åƒ åŸºäºä»¥ä¸Šä¸¤ç‚¹ç²¾å‡†æ¨é€å¹¿å‘Š ä»¥ä¸Šä¸ºèƒŒæ™¯ä»‹ç» åº”å¯¹ å€ŸåŠ©Surgeå¼ºå¤§çš„è„šæœ¬å’Œè§„åˆ™ç³»ç»Ÿ, ç›®å‰æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆ æ–¹æ¡ˆä¸€æ¦‚æ‹¬APPå…³é—­æ—¶(åå°), å®Œå…¨æ‹¦æˆªæ‰‹æœºæ‰€æœ‰APPè”ç½‘è¯·æ±‚; APPå¼€å¯æ—¶(å‰å°), æ”¾è¡Œæ‰€æœ‰APPè”ç½‘è¯·æ±‚. (åªå…è®¸ç”¨æˆ·ä¸»åŠ¨å¼€å¯APPè¡¨ç¤ºæˆ‘éœ€è¦ç”¨åˆ°å®ƒ,å¦åˆ™ä¸å…è®¸ä¹±è”ç½‘) æ–¹æ¡ˆäºŒæ¦‚æ‹¬æ‰‹æœºä»èœ‚çªç½‘ç»œåˆ‡æ¢è‡³WiFi(æ‰‹åŠ¨/è‡ªåŠ¨)çš„ç¬é—´, 15ç§’å†…æ‹¦æˆªæ‰€æœ‰APPè”ç½‘è¯·æ±‚(å‰å°/åå°), 15ç§’åæ¢å¤ è¯¥æ–¹æ¡ˆæä¾›æ‡’äººSurgeæ¨¡å—ä¸€é”®é…ç½®, å…·ä½“å¯æŸ¥çœ‹æœ¬æ–‡å®ç°æ–¹æ¡ˆäºŒç« èŠ‚ ä¸ºäº†ä½¿è¯»è€…æ›´å¥½çš„ç†è§£, æœ¬æ–‡å°†ä¼šæå…¶è¯¦ç»†çš„æè¿°ä»¥ä¸Šä¸¤ç§æ–¹æ¡ˆé‡Œæ¯ä¸€æ­¥çš„åŸç†ä»¥åŠé…ç½®, ä¾›è¯»è€…å‚è€ƒ. å®ç°æ–¹æ¡ˆä¸€éœ€æ±‚: æ‰“å¼€æ‰‹æœºå†…ä»»ä½•ä¸€ä¸ªAPPæ—¶(å‰å°), æ”¾è¡Œç½‘ç»œè¯·æ±‚ å…³é—­ä»»ä½•ä¸€ä¸ªAPPæ—¶(åå°), æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ æ‹¦æˆªçš„è¯·æ±‚å¯ä»¥è®¾ç½®ç™½åå• æœ‰ä¸¤ç§æ€è·¯: æ·å¾„è‡ªåŠ¨åŒ–è§¦å‘, å½“æ‰“å¼€/å…³é—­APPæ—¶, è¿è¡Œæ·å¾„, æ·å¾„å†…å®¹ä¸ºè°ƒç”¨SurgeAPI(å¼€å¯/å…³é—­)æ¨¡å—, æ¨¡å—å†…å®¹ä¸º: æ‹’ç»æ‰€æœ‰ç½‘ç»œè¯·æ±‚å’Œç™½åå•åœ¨å†…çš„è§„åˆ™ æ·å¾„è‡ªåŠ¨åŒ–è§¦å‘, å½“æ‰“å¼€/å…³é—­APPæ—¶, è¿è¡Œæ·å¾„, æ·å¾„å†…å®¹ä¸ºè¿è¡ŒSurgeè„šæœ¬, è„šæœ¬å†…å®¹ä¸º: å‚¨å­˜å½“å‰APPçŠ¶æ€(æ‰“å¼€/å…³é—­), å†ä½¿ç”¨Surgeé€»è¾‘è§„åˆ™å’Œè„šæœ¬è§„åˆ™å…±åŒå†³å®šç½‘ç»œè¯·æ±‚æ˜¯å¦éœ€è¦æ‹¦æˆª ç”±äºSurgeæ¨¡å—çš„ç‰¹æ®Šæ€§, å¼€å¯/å…³é—­æ¨¡å—æ—¶, ä¼šå¯¼è‡´: è§¦å‘é‡è½½é…ç½® (æœ‰æ¦‚ç‡VPNæ–­è¿) ä¸¢å¤±DNSç¼“å­˜(TTL), ä¸¥é‡å½±å“è§„åˆ™åŒ¹é…æ•ˆç‡ å¯èƒ½ä¼šæ‰“æ–­æ´»åŠ¨çš„ç½‘ç»œè¿æ¥ (ä¸‹è½½ä¸­æ–­) åŸºäºä»¥ä¸Šå¼Šç«¯, æœ¬æ–‡å°†è·³è¿‡(å¼€å¯/å…³é—­)æ¨¡å—çš„å®ç°æ–¹å¼. ç¬¬ä¸€æ­¥: é…ç½®æ·å¾„è„šæœ¬ Surgeå†…æ–°å»ºCronç±»å‹è„šæœ¬, Cronè¡¨è¾¾å¼å¡«å†™ 0 0 1 1 * è„šæœ¬åæš‚ä¸”è®¾ç½®ä¸ºâ€œAPPé˜²ç«å¢™â€, ç¼–è¾‘å¹¶å¡«å…¥ä»¥ä¸‹è„šæœ¬, ä¿å­˜åå°†è¯¥Cronè„šæœ¬ç¦ç”¨(å·¦åˆ’) APPé˜²ç«å¢™.js123const data = $intent.parameter;const write = $persistentStore.write(data, &quot;APP_BJ&quot;);$done(); ä»¥ä¸‹ä¸ºç§‘æ™®è„šæœ¬ä»£ç çš„å…·ä½“ç”¨é€”åŠåŸç†, è¯·é€‰æ‹©æ€§é˜…è¯». APPé˜²ç«å¢™.js1const data = $intent.parameter; åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºdataçš„å¸¸é‡, å€¼ä¸º$intent.parameter, è¯¥APIå®é™…å†…å®¹ä¸ºè¯»å–Surgeæ·å¾„è¿è¡Œåä¼ å…¥çš„å­—ç¬¦ä¸²; å¦‚æœSurgeæ·å¾„çš„å‚æ•°ç•™ç©º, åˆ™è¯¥APIå®é™…å†…å®¹ä¸ºç©ºå­—ç¬¦ä¸² APPé˜²ç«å¢™.js1const write = $persistentStore.write(data, &quot;APP_BJ&quot;); åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºwriteçš„å¸¸é‡, å€¼ä¸ºSurgeçš„å†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°çš„å®é™…ç”¨é€”ä¸ºæŒä¹…åŒ–å‚¨å­˜, æ¥å—2ä¸ªå‚æ•°, éœ€è¦å†™å…¥çš„æ•°æ®(å­—ç¬¦ä¸²ç±»å‹), ä»¥åŠä¸€ä¸ªå›ºå®šçš„è¯»å–é”®(å­—ç¬¦ä¸²ç±»å‹) è¯¥è¡Œç”¨é€”: å†™å…¥(å‚¨å­˜)ä¸Šä¸€è¡Œä»£ç ä¸­åä¸ºdataçš„å¸¸é‡çš„å€¼, è¯»å–é”®ä¸ºâ€APP_BJâ€ APPé˜²ç«å¢™.js1$done(); ç«‹å³è°ƒç”¨Surgeå†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°çš„å®é™…ç”¨é€”ä¸ºé€€å‡ºè„šæœ¬æ‰§è¡Œ; ä½¿ç”¨Surgeæ‰§è¡Œè„šæœ¬æ—¶, è¯¥APIä¸å¯çœç•¥. ç¬¬äºŒæ­¥: é…ç½®æ·å¾„è‡ªåŠ¨åŒ– æ‰“å¼€â€æ·å¾„â€ &gt; è‡ªåŠ¨åŒ– &gt; åŠ å· &gt; åˆ›å»ºä¸ªäººè‡ªåŠ¨åŒ– &gt; APP &gt; é€‰å–â€å·²æ‰“å¼€â€ &gt; æ‰‹åŠ¨é€‰å–é™¤äº†â€è®¾ç½®â€å¤–çš„æ‰€æœ‰APP &gt; æ·»åŠ æ“ä½œ, æœç´¢â€Surgeâ€, é€‰å–è¿è¡Œè„šæœ¬ &gt; å±•å¼€ &gt; è„šæœ¬åä¸ºå‰é¢è®¾ç½®çš„â€APPé˜²ç«å¢™â€, å‚æ•°ç•™ç©º &gt; ä¸‹ä¸€æ­¥ &gt; å…³é—­â€è¿è¡Œå‰è¯¢é—®â€ &gt; å®Œæˆ é‡å¤ç¬¬1æ­¥çš„è¿‡ç¨‹, ä¸åŒçš„æ˜¯, éœ€è¦é€‰å–APPå·²å…³é—­æ—¶è¿è¡Œæ·å¾„, å¹¶ä¸”éœ€è¦æŠŠSurgeåŠ¨ä½œé‡Œçš„å‚æ•°å¡«å†™ 1 (é‡è¦) ç¬¬ä¸‰æ­¥: é…ç½®è§„åˆ™è„šæœ¬ Surgeå†…æ–°å»ºRuleç±»å‹è„šæœ¬, è„šæœ¬åæš‚ä¸”è®¾ç½®ä¸ºâ€RULEé˜²ç«å¢™â€, ç¼–è¾‘å¹¶å¡«å…¥ä»¥ä¸‹è„šæœ¬å¹¶ä¿å­˜ RULEé˜²ç«å¢™.js12const read = $persistentStore.read(&quot;APP_BJ&quot;);$done({ matched: Boolean(read) }); ä»¥ä¸‹ä¸ºç§‘æ™®è„šæœ¬ä»£ç çš„å…·ä½“ç”¨é€”åŠåŸç†, è¯·é€‰æ‹©æ€§é˜…è¯». RULEé˜²ç«å¢™.js1const read = $persistentStore.read(&quot;APP_BJ&quot;); åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºreadçš„å¸¸é‡, å€¼ä¸ºSurgeçš„å†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°çš„å®é™…ç”¨é€”ä¸ºæŒä¹…åŒ–è¯»å–(è¯»å–ä¹‹å‰æ‰€å†™å…¥çš„æ•°æ®), æ¥å—1ä¸ªå‚æ•°: è¯»å–é”® (å­—ç¬¦ä¸²ç±»å‹) è¯¥è¡Œç”¨é€”: è¯»å–æ·å¾„è„šæœ¬æ‰€å†™å…¥â€APP_BJâ€é”®çš„æŒä¹…åŒ–æ•°æ® RULEé˜²ç«å¢™.js1$done({ matched: Boolean(read) }); ç«‹å³è°ƒç”¨Surgeå†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°çš„å®é™…ç”¨é€”ä¸ºé€€å‡ºè„šæœ¬æ‰§è¡Œ, ç”±äºæ˜¯Ruleè„šæœ¬(ä½¿ç”¨è„šæœ¬è¿›è¡Œè§„åˆ™åˆ¤å®š), éœ€è¦é¢å¤–è¿”å›ä¸€ä¸ªå¯¹è±¡é”®å€¼å¯¹ï¼Œå¯¹è±¡å±æ€§é”®ä¸º matched, å€¼ä¸ºå¸ƒå°”å€¼(true/false)è¡¨ç¤ºæ˜¯å¦åŒ¹é…è¯¥è§„åˆ™; åœ¨å½“å‰ä»£ç ä¸­, JSå†…éƒ¨å‡½æ•°Boolean()ç”¨äºè½¬æ¢å¸ƒå°”å€¼ è¯¥è¡Œç”¨é€”: é€€å‡ºè„šæœ¬å¹¶åˆ¤æ–­æ˜¯å¦åŒ¹é…è§„åˆ™, å¦‚æœå¸¸é‡çš„æ•°æ®(æ·å¾„è„šæœ¬æ‰€å†™å…¥çš„æ•°æ®), èƒ½å¤Ÿè½¬æ¢ä¸ºtrue, åˆ™è¿”å›true(åŒ¹é…è§„åˆ™), å¦åˆ™è¿”å›false(ä¸åŒ¹é…è§„åˆ™) ç¬¬å››æ­¥: é…ç½®é€»è¾‘è§„åˆ™è§„åˆ™å®šä¹‰ é€»è¾‘è§„åˆ™å¯å°†å¤šä¸ªè§„åˆ™ç›¸äº’åµŒå¥—(åŒ…å«é€»è¾‘è§„åˆ™), ç”¨äºå¤æ‚çš„è§„åˆ™åˆ¤æ–­. 1AND, ((#å­è§„åˆ™1), (#å­è§„åˆ™2), (#å­è§„åˆ™3)), Policy ANDè¿ç®—ç¬¦è¡¨ç¤º: å¦‚æœæ‰€æœ‰å­è§„åˆ™éƒ½åŒ¹é…ï¼Œåˆ™è¯¥è§„åˆ™åŒ¹é… 1OR, ((#å­è§„åˆ™1), (#å­è§„åˆ™2), (#å­è§„åˆ™3)), Policy ORè¿ç®—ç¬¦è¡¨ç¤º: å¦‚æœå­è§„åˆ™å…¶ä¸­ä¸€ä¸ªåŒ¹é…ï¼Œåˆ™è¯¥è§„åˆ™åŒ¹é… 1NOT, ((#å­è§„åˆ™)), Policy NOTè¿ç®—ç¬¦è¡¨ç¤º: å¦‚æœå­è§„åˆ™ä¸åŒ¹é…ï¼Œåˆ™è¯¥è§„åˆ™åŒ¹é… ç†è§£ä»¥ä¸Šå®šä¹‰å, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€»è¾‘è§„åˆ™å’Œè„šæœ¬è§„åˆ™å…±åŒå†³å®šç½‘ç»œè¯·æ±‚æ˜¯å¦éœ€è¦æ‹¦æˆª, å¹¶è®¾ç½®ç™½åå• é…ç½®è§„åˆ™ ç¼–è¾‘Surgeé…ç½®æ–‡ä»¶, åœ¨[Rule]æ®µè½æ”¾å…¥ä»¥ä¸‹é€»è¾‘è§„åˆ™: [Rule]1AND,((NOT,((OR,((USER-AGENT,Surge*), (RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Surge/Apple.list))))), (SCRIPT,RULEé˜²ç«å¢™)),REJECT ä»¥ä¸Šé€»è¾‘è§„åˆ™å·²åŒ…å«Apple/Surgeç™½åå•(åŒ¹é…åæ”¾è¡Œ), å¯åŒ¹é…ç»å¤§å¤šæ•°ç³»ç»ŸAppæˆ–Surgeè‡ªèº«å‘é€çš„è¯·æ±‚ å¯è‡ªè¡Œé…ç½®ç™½åå•è§„åˆ™: Surgeå†…ç‚¹å‡»è¯¥ANDè§„åˆ™ &gt; NOT &gt; OR &gt; æ–°å¢ &gt; æ·»åŠ è§„åˆ™æˆ–è§„åˆ™é›† &gt; å®Œæˆ ç½‘ç»œè¯·æ±‚ç»è¿‡Surgeè§„åˆ™ç³»ç»Ÿæ—¶, è¯¥è§„åˆ™åˆ¤æ–­é€»è¾‘: è‡³æ­¤, å·²å®ç°æ–¹æ¡ˆä¸€éœ€æ±‚: æ‰“å¼€æ‰‹æœºå†…ä»»ä½•ä¸€ä¸ªAPPæ—¶(å‰å°), æ”¾è¡Œç½‘ç»œè¯·æ±‚ å…³é—­ä»»ä½•ä¸€ä¸ªAPPæ—¶(åå°), æ‹¦æˆªæ‰€æœ‰è¯·æ±‚ æ‹¦æˆªçš„è¯·æ±‚å¯ä»¥è®¾ç½®ç™½åå• æ–¹æ¡ˆä¸€: æ³¨æ„äº‹é¡¹ è¯¥æ–¹æ¡ˆä»…é’ˆå¯¹æœ‰ç‰¹æ®Šéœ€æ±‚çš„ç”¨æˆ·è®¾è®¡, ä¸€èˆ¬ç”¨æˆ·ä¸åº”è¯¥ä½¿ç”¨. å› ä¸ºä¼šäº§ç”Ÿå„ç§å‰¯ä½œç”¨, åŒ…æ‹¬ä½†ä¸é™äº: iOS14æ¡Œé¢/è´Ÿä¸€å±å°ç»„ä»¶æ— æ³•è”ç½‘ Surgeåå°å®šæ—¶è„šæœ¬ä»»åŠ¡æ— æ³•è”ç½‘ åŸºäºä¸»å±å¹•çš„Web, ä¾‹å¦‚BoxJSã€Sub-Store æ— æ³•è”ç½‘ ä½ç‰ˆæœ¬iOSç³»ç»Ÿæˆ–è€æ—§æœºå‹æ‰“å¼€APPæ—¶,å¯èƒ½ä¼šæ— æ³•è§¦å‘æ·å¾„è‡ªåŠ¨åŒ–è¿›è€Œé€ æˆAPPæ— æ³•è”ç½‘ å‰ä¸‰ç‚¹è™½ç„¶å¯ä»¥æŠ“å–è¯·æ±‚é…ç½®è§„åˆ™ç™½åå•, ä½†ç›¸å¯¹æ¥è¯´æ¯”è¾ƒéº»çƒ¦. æ·å¾„é€šçŸ¥ å½“æˆ‘ä»¬è®¾å®š iOS æ·å¾„å†…çš„ã€Œä¸ªäººè‡ªåŠ¨åŒ–ã€åŠŸèƒ½æ—¶, è™½ç„¶å¯ä»¥å…³é—­ â€œè¿è¡Œå‰è¯¢é—®â€ ä½†æ˜¯å½“è‡ªåŠ¨åŒ–è„šæœ¬å¼€å§‹æ‰§è¡Œæ—¶, ç³»ç»Ÿä¼šé€šçŸ¥æé†’è‡ªåŠ¨åŒ–å·²å¼€å§‹æ‰§è¡Œ. å¦‚æœä¸æƒ³æ¯æ¬¡éƒ½æ”¶åˆ°è¿™ç§é€šçŸ¥, é‚£ä¹ˆæˆ‘ä»¬å…¶å®å¯ä»¥é€šè¿‡ä¸€ä¸ªç³»ç»ŸBUGæ¥å…³é—­, å…·ä½“å¯ç‚¹å‡»æ­¤å¤„æŸ¥çœ‹å…·ä½“æ–¹æ³•; æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„, æ·å¾„é€šçŸ¥å…³é—­åå¦‚æœè¿è¡Œçš„æ·å¾„é‡ŒåŒ…å«é€šçŸ¥åŠ¨ä½œ, åˆ™è¯¥æ·å¾„å°†ç›´æ¥ä¸­æ–­. å®ç°æ–¹æ¡ˆäºŒç”±äºæ–¹æ¡ˆä¸€è¿‡äºæš´åŠ›, æ–¹æ¡ˆäºŒåº”è¿è€Œç”Ÿ. è¯¥æ–¹æ¡ˆä¸»è¦ä¸ºæœ¬æ–‡çš„ä¸­å¿ƒéœ€æ±‚. éœ€æ±‚: ä»èœ‚çªç½‘ç»œè¿æ¥WiFiçš„ç¬é—´, 15ç§’å†…æ‹¦æˆªæ‰€æœ‰è¯·æ±‚, 15ç§’åæ”¾è¡Œç½‘ç»œè¯·æ±‚ æ‹¦æˆªçš„è¯·æ±‚å¯ä»¥è®¾ç½®ç™½åå• æ€è·¯: ç½‘ç»œç¯å¢ƒæ”¹å˜æ—¶, è§¦å‘è¿è¡ŒSurgeäº‹ä»¶(Event)ç±»å‹è„šæœ¬, è„šæœ¬å†…å®¹ä¸º: å¦‚æœä»èœ‚çªç½‘ç»œåˆ‡æ¢è‡³WiFi, åˆ™å†™å…¥å½“å‰æ—¶é—´æˆ³æ•°æ®, å†ä½¿ç”¨é€»è¾‘è§„åˆ™å’Œè„šæœ¬è§„åˆ™å…±åŒå†³å®š15ç§’å†…çš„ç½‘ç»œè¯·æ±‚æ˜¯å¦éœ€è¦æ‹¦æˆª è¯¥æ–¹æ¡ˆå®Œå…¨åŸºäºSurge, å¦‚æœæ‚¨ â€œä¸æƒ³äº†è§£å…·ä½“åŸç†â€œ æˆ–è€… â€œæƒ³è·³è¿‡ç¹ççš„é…ç½®â€œ, å¯ä½¿ç”¨æ‡’äººSurgeæ¨¡å—ä¸€é”®é…ç½®, æ¨¡å—åœ°å€: 1https://gist.githubusercontent.com/NobyDa/fb026a6d01fec146bd451d01b0c973d5/raw/NetworkFirewall.sgmodule å·²åŒ…å«Apple/Surgeç™½åå•(åŒ¹é…åæ”¾è¡Œ) ç¬¬ä¸€æ­¥: é…ç½®äº‹ä»¶è„šæœ¬ Surgeå†…æ–°å»ºEventç±»å‹è„šæœ¬, è„šæœ¬åæš‚ä¸”è®¾ç½®ä¸º â€œWIFIé˜²ç«å¢™â€ , äº‹ä»¶åè®¾ç½®ä¸º â€œnetwork-changedâ€ , ç¼–è¾‘å¹¶å¡«å…¥ä»¥ä¸‹è„šæœ¬å¹¶ä¿å­˜ WIFIé˜²ç«å¢™.js1234567891011const network = $network.wifi.ssid;const currentTime = Date.now();$httpAPI(&quot;GET&quot;, &quot;v1/traffic&quot;, null, (body) =&gt; { if (network &amp;&amp; (currentTime / 1000) - body.startTime &gt;= 3) { const time = JSON.stringify(currentTime); const addTime = $persistentStore.write(time, &quot;WiFi_Timer&quot;); $notification.post('é˜²ç«å¢™å¼€å§‹æ‹¦æˆª', '', `å·²ä»èœ‚çªç½‘ç»œåˆ‡æ¢è‡³ ${network}`); } $done();}) ä»¥ä¸‹ä¸ºç§‘æ™®è„šæœ¬ä»£ç çš„å…·ä½“ç”¨é€”åŠåŸç†, è¯·é€‰æ‹©æ€§é˜…è¯». WIFIé˜²ç«å¢™.js1const network = $network.wifi.ssid; åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºnetworkçš„å¸¸é‡, å€¼ä¸ºSurgeå†…éƒ¨API, è¯¥$networkå®é™…å†…å®¹ä¸ºå½“å‰ç½‘ç»œçŠ¶æ€çš„æ€»è§ˆ. (åŠ å…¥.wifi.ssidåˆ™è¡¨ç¤ºä»…æå–å½“å‰WIFIåç§°) è¯¥è¡Œç”¨é€”: äº‹ä»¶è„šæœ¬è¿è¡Œåè¯»å–å½“å‰ç½‘ç»œçš„WIFIåç§° WIFIé˜²ç«å¢™.js1const currentTime = Date.now(); åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºcurrentTimeçš„å¸¸é‡, å€¼ä¸ºJSä¸­çš„å†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°è¿”å›Unixæ—¶é—´æˆ³ WIFIé˜²ç«å¢™.js1$httpAPI(&quot;GET&quot;, &quot;v1/traffic&quot;, null, (body) =&gt; { ... }) ç«‹å³è°ƒç”¨Surgeå†…éƒ¨å‡½æ•°å¹¶ä¼ å…¥å››ä¸ªå‚æ•°(method: String, path: String, body: Object, callback: Function), è¯¥$httpAPIæš‚æ—¶æ²¡æœ‰å®˜æ–¹æ–‡æ¡£, ä½†ä¸HTTP APIç”¨æ³•ç±»ä¼¼, å…·ä½“å¯æŸ¥çœ‹HTTP APIå®˜æ–¹æ–‡æ¡£ è¯¥è¡Œç”¨é€”: ç”±äºSurgeæ¯æ¬¡å¼€å¯VPNæ—¶, éƒ½ä¼šè§¦å‘ä¸€æ¬¡network-changedäº‹ä»¶è„šæœ¬, ä¸ºäº†é¿å…é”™è¯¯è§¦å‘å¯¼è‡´çš„é—®é¢˜, ä»¥ä¸Š$httpAPIå›è°ƒçš„å‚æ•°å°†è¿”å›å¼€å¯VPNçš„æ—¶é—´, ç”¨äºç¨åçš„åˆ¤æ–­ WIFIé˜²ç«å¢™.js1if (network &amp;&amp; (currentTime / 1000) - body.startTime &gt;= 3) { ... } åœ¨JSè¯­æ³•ä¸­, è¡¨ç¤ºæ¡ä»¶è¯­å¥å—; æˆ‘ä»¬ç»å¸¸éœ€è¦æ ¹æ®ä¸åŒæ¡ä»¶æ¥æ‰§è¡Œä¸åŒçš„ä»£ç , ä»¥ä¸Šæ¡ä»¶è¯­å¥å¯ä»¥å®ç°è¿™ä¸€ç‚¹. è¯¥è¡Œç”¨é€”: è„šæœ¬è¿è¡Œå, å¦‚æœå½“å‰ä¸ºWiFiç¯å¢ƒ å¹¶ä¸”â€å½“å‰æ—¶é—´â€œ å‡ â€œå¼€å¯VPNæ—¶é—´â€œ å¤§äºç­‰äº3ç§’, åˆ™æ‰§è¡ŒèŠ±æ‹¬å·å†…{ â€¦ }çš„ä»£ç , å¦åˆ™è·³è¿‡ WIFIé˜²ç«å¢™.js1const time = JSON.stringify(currentTime); åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºtimeçš„å¸¸é‡, å€¼ä¸ºJSä¸­çš„å†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°å®é™…ç”¨é€”ä¸ºâ€å°†å¯¹è±¡æˆ–å€¼è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²â€; åœ¨å½“å‰ä»£ç ä¸­, è¡¨ç¤ºè½¬æ¢åä¸ºcurrentTimeçš„å¸¸é‡ (Unixæ—¶é—´æˆ³) è¯¥è¡Œç”¨é€”: è¯»å–å£°æ˜çš„Unixæ—¶é—´æˆ³(æ•°å­—ç±»å‹), å¹¶å°†å®ƒè½¬æ¢æˆå­—ç¬¦ä¸²ç±»å‹, ä¾¿äºå‚¨å­˜ WIFIé˜²ç«å¢™.js1const addTime = $persistentStore.write(time, &quot;WiFi_Timer&quot;); åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºaddTimeçš„å¸¸é‡, å€¼ä¸ºSurgeçš„å†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°çš„å®é™…ç”¨é€”ä¸ºæŒä¹…åŒ–å‚¨å­˜, æ¥å—2ä¸ªå‚æ•°, éœ€è¦å†™å…¥çš„æ•°æ®(å­—ç¬¦ä¸²ç±»å‹), ä»¥åŠä¸€ä¸ªå›ºå®šçš„è¯»å–é”®(å­—ç¬¦ä¸²ç±»å‹) è¯¥è¡Œç”¨é€”: å†™å…¥(å‚¨å­˜)åä¸ºtimeå¸¸é‡çš„å€¼(Unixæ—¶é—´æˆ³), è¯»å–é”®ä¸ºâ€WiFi_Timerâ€ WIFIé˜²ç«å¢™.js1$notification.post('é˜²ç«å¢™å¼€å§‹æ‹¦æˆª', '', `å·²ä»èœ‚çªç½‘ç»œåˆ‡æ¢è‡³ ${network}`); ç«‹å³è°ƒç”¨Surgeå†…éƒ¨å‡½æ•°æ¨é€ä¸€ä¸ªSurgeé€šçŸ¥, å¹¶ä¼ å…¥ä¸‰ä¸ªå‚æ•°, åˆ†åˆ«ä¸ºæ ‡é¢˜, å‰¯æ ‡é¢˜, å†…å®¹. ä¸‰ä¸ªå‚æ•°ä»…æ¥å—å­—ç¬¦ä¸²ç±»å‹ WIFIé˜²ç«å¢™.js1$done(); ç«‹å³è°ƒç”¨Surgeå†…éƒ¨å‡½æ•°, è¯¥Surgeå‡½æ•°çš„å®é™…ç”¨é€”ä¸ºé€€å‡ºè„šæœ¬æ‰§è¡Œ; ä½¿ç”¨Surgeæ‰§è¡Œè„šæœ¬æ—¶, è¯¥APIä¸å¯çœç•¥. ç¬¬äºŒæ­¥: é…ç½®è§„åˆ™è„šæœ¬ Surgeå†…æ–°å»ºRuleç±»å‹è„šæœ¬, è„šæœ¬åæš‚ä¸”è®¾ç½®ä¸ºâ€TIMEé˜²ç«å¢™â€, ç¼–è¾‘å¹¶å¡«å…¥ä»¥ä¸‹è„šæœ¬å¹¶ä¿å­˜ TIMEé˜²ç«å¢™.js123456789101112let block = { matched: false };const readTimer = $persistentStore.read(&quot;WiFi_Timer&quot;);if (readTimer) { const currentTime = Date.now(); const markTime = parseInt(readTimer); if (currentTime - markTime &lt;= 15000) { block.matched = true; } else { const delTime = $persistentStore.write(&quot;&quot;, &quot;WiFi_Timer&quot;); }}$done(block); ä»¥ä¸‹ä¸ºç§‘æ™®è„šæœ¬ä»£ç çš„å…·ä½“ç”¨é€”åŠåŸç†, è¯·é€‰æ‹©æ€§é˜…è¯». TIMEé˜²ç«å¢™.js1let block = { matched: false }; åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºblockçš„å˜é‡, å¹¶åˆå§‹åŒ–å¯¹è±¡ è¯¥è¡Œç”¨é€”: ç”±äºæ˜¯Ruleè„šæœ¬(ä½¿ç”¨è„šæœ¬è¿›è¡Œè§„åˆ™åˆ¤å®š), è„šæœ¬ç»“æŸæ—¶éœ€è¦é¢å¤–è¿”å›ä¸€ä¸ªå¯¹è±¡é”®å€¼å¯¹è¡¨ç¤ºæ˜¯å¦åŒ¹é…è¯¥è§„åˆ™; æ­¤å¤„æ˜¯ä¸ºäº†èŠ‚çœä»£ç (é‡å¤æ®µ), é¿å…å¤šæ¬¡ä½¿ç”¨$done. åˆå§‹åŒ–çš„å¯¹è±¡é”®å€¼å¯¹é»˜è®¤ä¸ºfalse(ä¸åŒ¹é…è§„åˆ™), å¦‚æœé‡æ–°èµ‹å€¼(æ”¹å˜)ä¸ºtrueåˆ™åŒ¹é…è§„åˆ™ TIMEé˜²ç«å¢™.js1const readTimer = $persistentStore.read(&quot;WiFi_Timer&quot;); åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºreadTimerçš„å¸¸é‡, å€¼ä¸ºSurgeçš„å†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°çš„å®é™…ç”¨é€”ä¸ºè¯»å–ä¹‹å‰æ‰€å†™å…¥çš„æ•°æ®, æ¥å—1ä¸ªå‚æ•°: è¯»å–é”®(å­—ç¬¦ä¸²ç±»å‹) è¯¥è¡Œç”¨é€”: è¯»å–äº‹ä»¶è„šæœ¬æ‰€å†™å…¥â€WiFi_Timerâ€é”®çš„æŒä¹…åŒ–æ•°æ®(Unixæ—¶é—´æˆ³) TIMEé˜²ç«å¢™.js1if (readTimer) { ... } å¦‚æœåä¸ºreadTimerçš„å¸¸é‡å¯ä»¥è½¬æ¢æˆtrue(æœ‰Unixæ—¶é—´æˆ³), åˆ™æ‰§è¡ŒèŠ±æ‹¬å·å†…{ â€¦ }çš„ä»£ç , å¦åˆ™è·³è¿‡ TIMEé˜²ç«å¢™.js1const currentTime = Date.now(); åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºcurrentTimeçš„å¸¸é‡, å€¼ä¸ºJSçš„å†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°å®é™…çš„å€¼ä¸ºå½“å‰Unixæ—¶é—´æˆ³(æ•°å­—ç±»å‹) TIMEé˜²ç«å¢™.js1const markTime = parseInt(readTimer); åœ¨JSè¯­æ³•ä¸­, å£°æ˜ä¸€ä¸ªåä¸ºmarkTimeçš„å¸¸é‡, å€¼ä¸ºJSçš„å†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°åœ¨å½“å‰ä»£ç ä¸­çš„å®é™…ç”¨é€”ä¸º å°†â€å­—ç¬¦ä¸²â€ è½¬æ¢æˆ â€œæ•°å­—â€ç±»å‹, (è½¬æ¢åä¸ºreadTimerå¸¸é‡çš„å€¼) è¯¥è¡Œç”¨é€”: è¯»å–äº‹ä»¶è„šæœ¬æ‰€å†™å…¥çš„Unixæ—¶é—´æˆ³, å¹¶å°†å®ƒè½¬æ¢æˆæ•°å­—ç±»å‹, ä¾¿äºåˆ¤æ–­ TIMEé˜²ç«å¢™.js1234567if (currentTime - markTime &lt;= 15000) { //ä»£ç å—1 //é‡æ–°èµ‹å€¼(æ”¹å˜)blockå˜é‡ä¸­matchedé”®çš„å€¼, trueè¡¨ç¤ºåŒ¹é…è§„åˆ™ block.matched = true; } else { //ä»£ç å—2 //æ¸…é™¤äº‹ä»¶è„šæœ¬æ‰€å†™å…¥çš„Unixæ—¶é—´æˆ³ const delTime = $persistentStore.write(&quot;&quot;, &quot;WiFi_Timer&quot;); } å¦‚æœå½“å‰Unixæ—¶é—´æˆ³ å‡ äº‹ä»¶è„šæœ¬æ‰€ä¿å­˜çš„Unixæ—¶é—´æˆ³ å°äºç­‰äº15000æ¯«ç§’(15ç§’), åˆ™æ‰§è¡Œä»£ç å—1çš„ä»£ç : å¦åˆ™åˆ™æ‰§è¡Œä»£ç å—2çš„ä»£ç  TIMEé˜²ç«å¢™.js1$done(block); ç«‹å³è°ƒç”¨Surgeå†…éƒ¨å‡½æ•°, è¯¥å‡½æ•°çš„å®é™…ç”¨é€”ä¸ºé€€å‡ºè„šæœ¬æ‰§è¡Œ, å¹¶è¿”å›blockå˜é‡(è„šæœ¬ç¬¬ä¸€è¡Œ)è¡¨ç¤ºæ˜¯å¦åŒ¹é…è§„åˆ™ ç¬¬ä¸‰æ­¥: é…ç½®é€»è¾‘è§„åˆ™è§„åˆ™å®šä¹‰åœ¨æ–¹æ¡ˆä¸€ä¸­çš„é…ç½®é€»è¾‘è§„åˆ™ç« èŠ‚é‡Œæœ‰è¯¦ç»†æè¿°, è¿™é‡Œä¸å†èµ˜è¿° ç¼–è¾‘Surgeé…ç½®æ–‡ä»¶, åœ¨[Rule]æ®µè½æ”¾å…¥ä»¥ä¸‹é€»è¾‘è§„åˆ™: [Rule]1AND,((NOT,((OR,((USER-AGENT,Surge*), (RULE-SET,https://raw.githubusercontent.com/NobyDa/Script/master/Surge/Apple.list))))), (SCRIPT,TIMEé˜²ç«å¢™)),REJECT ä»¥ä¸Šé€»è¾‘è§„åˆ™å·²åŒ…å«Apple/Surgeç™½åå•(åŒ¹é…åæ”¾è¡Œ), å¯åŒ¹é…ç»å¤§å¤šæ•°ç³»ç»ŸAppæˆ–Surgeè‡ªèº«å‘é€çš„è¯·æ±‚ å¯è‡ªè¡Œé…ç½®ç™½åå•è§„åˆ™: Surgeå†…ç‚¹å‡»è¯¥ANDè§„åˆ™ &gt; NOT &gt; OR &gt; æ–°å¢ &gt; æ·»åŠ è§„åˆ™æˆ–è§„åˆ™é›† &gt; å®Œæˆ ç½‘ç»œè¯·æ±‚ç»è¿‡Surgeè§„åˆ™ç³»ç»Ÿæ—¶, è¯¥è§„åˆ™åˆ¤æ–­é€»è¾‘: è‡³æ­¤, å·²å®ç°æ–¹æ¡ˆäºŒéœ€æ±‚: ä»èœ‚çªç½‘ç»œè¿æ¥WiFiçš„ç¬é—´, 15ç§’å†…æ‹¦æˆªæ‰€æœ‰è¯·æ±‚, 15ç§’åæ”¾è¡Œç½‘ç»œè¯·æ±‚ æ‹¦æˆªçš„è¯·æ±‚å¯ä»¥è®¾ç½®ç™½åå• æ–¹æ¡ˆäºŒ: æ³¨æ„äº‹é¡¹ è¯¥æ–¹æ¡ˆç›¸å¯¹æ¥è¯´æ¯”è¾ƒæ”¶æ•›, é…ç½®åå¯¹æ­£å¸¸ä½¿ç”¨å‡ ä¹æ²¡æœ‰å½±å“, é€‚åˆå¤§å¤šæ•°æœ‰éšç§éœ€æ±‚çš„ç”¨æˆ·, ä½†æœ‰å‡ ç‚¹éœ€è¦æ³¨æ„: å¦‚æœæ‚¨çš„WIFIè·¯ç”±å™¨ä¿¡å·ä¸ç¨³å®š, åˆ™å¯èƒ½ä¼šé”™è¯¯è§¦å‘äº‹ä»¶è„šæœ¬å¯¼è‡´é—´æ­‡æ€§æ–­ç½‘. ä»WiFiåˆ‡æ¢è‡³èœ‚çªå¯èƒ½ä¼šè§¦å‘äº‹ä»¶è„šæœ¬å¯¼è‡´æ–­ç½‘. (å°æ¦‚ç‡) ä»èœ‚çªåˆ‡æ¢è‡³WiFiçš„ç¬é—´, å¯èƒ½ä¼šæ¼æ‰æå°‘éƒ¨åˆ†ç½‘ç»œè¯·æ±‚, å¯¼è‡´æå°‘éƒ¨åˆ†çš„ç½‘ç»œè¯·æ±‚æ‹¦æˆªå¤±è´¥. æ— æ³•é˜»æ­¢æ‰‹åŠ¨æ‰“å¼€ç³»ç»Ÿè®¾ç½®æŸ¥çœ‹WiFiåˆ—è¡¨æ‰€è§¦å‘çš„ç½‘ç»œè¯·æ±‚. å‰3ç‚¹æ˜¯Surgeè‡ªèº«è§¦å‘äº‹ä»¶è„šæœ¬çš„é€»è¾‘æ‰€å†³å®šçš„, æ— æ³•æ”¹è¿›; å¦‚æœæ‚¨åœ¨æ„, å¯ä»¥é€‰æ‹©åŒæ—¶é…ç½®æ–¹æ¡ˆä¸€å’Œæ–¹æ¡ˆäºŒ, ä»¥æŒæ¡ç»å¯¹çš„APPè”ç½‘æƒé™. ç»“è¯­æœ¬æ–‡å†…å®¹ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç¡¬æ ¸, æ‰€åˆ—å‡ºçš„åªæ˜¯æå…¶å°ä¼—çš„éœ€æ±‚, éç§‘ç­å‡ºèº«çš„åŒå­¦å¯èƒ½ä¼šæœ‰ç†è§£éšœç¢, ä½†å®Œå…¨ç†è§£åä½ ä¼šå‘ç°éå¸¸æœ‰æ„æ€. Surgeè„šæœ¬è§„åˆ™æ‰§è¡Œæ•ˆç‡æé«˜, åœ¨ç¬”è€…çš„æµ‹è¯•ç¯å¢ƒä¸­(iPhone12), ç»å¤§å¤šæ•°ç½‘ç»œè¯·æ±‚ç»è¿‡é€»è¾‘è§„åˆ™+è„šæœ¬è§„åˆ™ä»…è€—æ—¶5msä»¥å†…, æŸäº›å¤æ‚è¯·æ±‚å¯èƒ½ä¼šåœ¨10msä»¥å†…, åŸºæœ¬ä¸å¿…æ‹…å¿ƒå› ä½¿ç”¨è„šæœ¬è§„åˆ™è€Œå¸¦æ¥çš„æ€§èƒ½é—®é¢˜. æ–‡ç« å†…çš„éœ€æ±‚ä»…ä»…åªæ˜¯Surgeé«˜çº§ç”¨æ³•çš„å…¶ä¸­ä¹‹ä¸€; å€ŸåŠ©Surgeè¿›è¡Œå…¨é¢çš„ç½‘ç»œæ¥ç®¡å¹¶ä½¿ç”¨æ·å¾„ã€è§„åˆ™ã€è„šæœ¬å¯ä»¥å»ºç«‹å‡ºæ— é™å¯èƒ½æ€§. æ•°æ®æ—¶ä»£, éšç§å®‰å…¨å°†ä¼šå¸¦æ¥å·¨å¤§æŒ‘æˆ˜, è€Œåœ¨ä¸­å›½, æœ‰è¿™æ ·çš„ä¸€ç§è½¯ä»¶, ä¸ç»‘å®šæ‰‹æœºå°†æ— æ³•ä½¿ç”¨æˆ–å—åˆ°é™åˆ¶; ä¹‹åä»–ä»¬å‘ç°æ‰€æœ‰ç”¨æˆ·éƒ½ç»‘å®šäº†æ‰‹æœº, ç„¶åä»–ä»¬å¾—å‡ºä¸€ä¸ªç»“è®º: ä¸­å›½äººæ›´æ„¿æ„ç”¨éšç§æ¢å–æ•ˆç‡. è¿™ç§è®ºè°ƒæ”¾åœ¨ä¸€ç™¾å¹´å‰å¤§æ¦‚å°±æ˜¯ â€œå·¥äººæ„¿æ„é€‰æ‹©å·¥ä½œ16ä¸ªå°æ—¶, æ”¾å¼ƒæ‰€æœ‰ä¼‘æ¯æ—¶é—´å¤šèµšé’±å…»å®¶ç³Šå£â€. æ®Šä¸çŸ¥å¯æ‚²çš„æ˜¯, å¾ˆå¤šæ—¶å€™äººä»¬å¹¶æ²¡æœ‰åˆ«çš„é€‰æ‹©. ä¸æ˜¯æˆ‘ä»¬ä¸åœ¨ä¹éšç§, è€Œæ˜¯æ²¡æœ‰èƒ½åŠ›å»æŠµæŠ—. ä»¥ä¸Š","link":"/2021/06/08/Surge_network_firewall/"},{"title":"Hello World","text":"æ¬¢è¿æ¥åˆ°NobyDaâ€™s Blog, è¿™æ˜¯æ­å»ºåšå®¢ä»¥æ¥çš„ç¬¬ä¸€ç¯‡æ–‡ç« . ä½œä¸ºä¸€ååˆæ ¼çš„å¼€å‘è€…, â€œHello Worldâ€æœ€å…·ä»£è¡¨æ„ä¹‰, è±¡å¾ç€ä¸€åˆ‡çš„å¼€å§‹. ç”±æ¥æœ€è¿‘æƒ³åˆ†äº«ä¸€äº›Appä½¿ç”¨å¿ƒå¾—, googleæ‰¾äº†ä¸€åœˆå‘ç°æ‰¾ä¸åˆ°æ»¡æ„çš„markdownåšå®¢å¹³å°, è¦ä¹ˆç¼ºå°‘ç§ç§åŠŸèƒ½, è¦ä¹ˆé¡µé¢é£æ ¼ä¸å–œæ¬¢. æ‰€ä»¥ç»è¿‡ç»¼åˆè€ƒè™‘, å†³å®šåŠ¨æ‰‹è‡ªå»º. è‡ªå»ºåšå®¢æœ‰å¾ˆå¤šä¼˜åŠ¿, æ¯”å¦‚å¯ä»¥å®Œå…¨è‡ªå®šä¹‰ä¸€äº›æ’ä»¶æˆ–åŠŸèƒ½, æœ€ä¸»è¦çš„æ˜¯å®Œå…¨å¯ä»¥æ»¡è¶³æˆ‘çš„å®¡ç¾. åœ¨è¸©äº†è®¸å¤šå‘ä¹‹å, ç»ˆäºæ­å»ºèµ·äº†åŸºäºHexoçš„ä¸ªäººåšå®¢, Hexoæ˜¯ä¸€æ¬¾åŸºäºNode.jsçš„é™æ€åšå®¢æ¡†æ¶, å¯¹äºæˆ‘æ¥è¯´æ¯”è¾ƒå‹å¥½. å†…å®¹è¯¥åšå®¢ä¸»è¦åˆ†äº«ä¸€äº›Appé«˜çº§ä½¿ç”¨æŠ€å·§, ä¾‹å¦‚Surge, QuantumultX, ä»¥åŠä¸ªäººçš„æ—¥å¸¸; ä»¥åä¹Ÿå¯èƒ½ä¼šå†™JavaScriptæ•™ç¨‹. æœ€å, å¸Œæœ›å»ºäº†åšå®¢ä¹‹å, è‡ªå·±èƒ½åšæŒæŠŠå†…å®¹å†™ä¸‹å»å§.","link":"/2021/06/06/hello-world/"}],"tags":[{"name":"Surge","slug":"Surge","link":"/tags/Surge/"},{"name":"QuantumultX","slug":"QuantumultX","link":"/tags/QuantumultX/"},{"name":"JavaScript","slug":"JavaScript","link":"/tags/JavaScript/"}],"categories":[{"name":"è„šæœ¬å¼€å‘","slug":"è„šæœ¬å¼€å‘","link":"/categories/%E8%84%9A%E6%9C%AC%E5%BC%80%E5%8F%91/"},{"name":"APPé«˜çº§ä½¿ç”¨æŠ€å·§","slug":"APPé«˜çº§ä½¿ç”¨æŠ€å·§","link":"/categories/APP%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/"},{"name":"Surge","slug":"APPé«˜çº§ä½¿ç”¨æŠ€å·§/Surge","link":"/categories/APP%E9%AB%98%E7%BA%A7%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7/Surge/"}]}